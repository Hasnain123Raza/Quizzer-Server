{"version":3,"sources":["services/authenticatedSlice/selectors.js","components/Header/index.js","services/authenticatedSlice/api.js","services/authenticatedSlice/index.js","components/PostRequestButton/components/LoadingButton/index.js","components/PostRequestButton/components/PostButton/index.js","components/PostRequestButton/components/RetryButton/index.js","components/PostRequestButton/index.js","components/PostRequestLoadingCard/index.js","components/ProtectedRoute/index.js","areas/Quiz/scenes/Browse/services/api.js","areas/Quiz/scenes/Browse/services/browseSlice/selectors.js","areas/Quiz/scenes/Browse/services/grid.js","areas/Quiz/scenes/Browse/services/browseSlice/index.js","components/Paginator/components/pages.js","components/Paginator/components/MinimalPagination/index.js","components/Paginator/components/CollapsedPagination/index.js","components/Paginator/components/ExpandedPagination/index.js","components/Paginator/index.js","areas/Quiz/scenes/Browse/components/LoadingQuizCard/index.js","areas/Quiz/scenes/Browse/components/QuizCard/index.js","areas/Quiz/scenes/Browse/index.js","areas/Quiz/scenes/Create/services/api.js","areas/Quiz/scenes/Create/services/quizSchema.js","areas/Quiz/scenes/Create/services/createSlice/index.js","areas/Quiz/scenes/Create/services/createSlice/selectors.js","areas/Quiz/scenes/Create/components/Choice/index.js","areas/Quiz/scenes/Create/components/DummyChoice/index.js","areas/Quiz/scenes/Create/components/Question/index.js","areas/Quiz/scenes/Create/index.js","areas/Quiz/scenes/Open/services/openSlice/selectors.js","areas/Quiz/scenes/Open/components/QuizCard.js","areas/Quiz/scenes/Open/components/LoadingQuizCard.js","areas/Quiz/scenes/Open/services/api.js","areas/Quiz/scenes/Open/services/openSlice/index.js","areas/Quiz/scenes/Open/index.js","areas/Quiz/scenes/Take/services/api.js","areas/Quiz/scenes/Take/services/takeSlice/selectors.js","areas/Quiz/scenes/Take/services/takeSlice/index.js","areas/Quiz/scenes/Take/components/LoadingQuizCard/index.js","areas/Quiz/scenes/Take/components/Choice/index.js","areas/Quiz/scenes/Take/components/QuestionCard/index.js","areas/Quiz/scenes/Take/index.js","areas/Authentication/scenes/Login/services/api.js","areas/Authentication/services/userSchema.js","areas/Authentication/scenes/Login/services/loginSlice/index.js","areas/Authentication/scenes/Login/services/loginSlice/selectors.js","areas/Authentication/scenes/Login/index.js","areas/Authentication/scenes/Register/services/api.js","areas/Authentication/scenes/Register/services/registerSlice/index.js","areas/Authentication/scenes/Register/services/registerSlice/selectors.js","areas/Authentication/scenes/Register/index.js","areas/Authentication/scenes/Account/services/api.js","areas/Authentication/scenes/Account/services/accountSlice/index.js","areas/Authentication/scenes/Account/services/accountSlice/selectors.js","areas/Authentication/scenes/Account/index.js","components/Main/index.js","areas/Quiz/index.js","areas/Authentication/index.js","components/Footer/index.js","App.js","areas/Quiz/services/quizReducer.js","areas/Authentication/services/authenticationReducer.js","services/redux/store.js","index.js"],"names":["sGetAuthenticatedUser","state","authenticated","sGetIsAuthenticated","undefined","sGetAuthenticatedRequestStatus","getAuthenticatedRequestStatus","sGetHasAuthenticatedBefore","firstTime","isAuthenticated","useSelector","className","Navbar","bg","variant","exact","to","Brand","Nav","style","flex","Link","Fragment","NavDropdown","title","Item","Divider","fetchAuthenticated","a","fetch","response","json","data","initialState","getAuthenticated","createAsyncThunk","authenticatedSlice","createSlice","name","reducers","reset","action","extraReducers","builder","addCase","pending","fulfilled","payload","rejected","actions","Button","disabled","Spinner","size","animation","initiatePostRequest","idleText","onClick","props","postRequestStatus","PostButton","LoadingButton","RetryButton","pendingHeaderText","rejectedHeaderText","pendingBodyText","rejectedBodyText","Card","Header","Body","Footer","PostRequestButton","children","rest","location","useLocation","query","URLSearchParams","search","set","pathname","toString","fetchQuizCount","count","fetchSimplifiedQuizzes","pageIndex","pageSize","sGetQuizCountRequestStatus","quiz","browse","quizCountRequestStatus","sGetSimplifiedQuizzesRequestStatus","simplifiedQuizzesRequestStatus","sGetCurrentPage","currentPage","sGetTotalPages","cardsPerRow","totalRows","totalQuizzes","quizzesPerPage","Math","ceil","getTotalPages","quizCount","sGetQuizCount","simplifiedQuizzes","getQuizCount","getSimplifiedQuizzes","getState","pageNumber","pages","browseSlice","setCurrentPage","getPagesToGenerate","totalPages","pageChangeCallback","pagesToGenerate","counter","push","generatePages","map","index","Pagination","active","generateMinimalPages","MinimalPagination","generatePrevPagination","newPageValue","Prev","generateCollapsedPages","generateNextPagination","Next","CollapsedPagination","generateFirstPagination","First","generateLeftEllipse","shouldGenerateLeftEllipsis","Ellipsis","pageValue","getLeftEllipsisPageValue","generateExpandedPages","shift","pop","generateRightEllipse","shouldGenerateRightEllipsis","getRightEllipsisPageValue","generateLastPagination","Last","ExpandedPagination","loadResources","resourcesFailedToLoad","Title","Text","quizId","_id","quizTitle","quizTrimmedDescription","description","length","substring","dispatch","useDispatch","history","useHistory","queriedPage","parseInt","get","rows","quizzes","rowsData","rowIndex","startingCardIndex","cardIndex","cardData","getRowsFromQuizzes","sGetSimplifiedQuizzes","resourcesLoaded","useEffect","Container","fluid","row","Row","quizIndex","Col","md","QuizCard","LoadingQuizCard","Paginator","newPage","postQuiz","requestOptions","method","headers","body","JSON","stringify","choiceSchema","Joi","object","prompt","string","trim","min","max","required","correct","boolean","questionSchema","choices","array","items","has","valid","quizSchema","questions","activeQuestionIndex","postQuizRequestStatus","postedQuizId","validationErrors","postQuizCreateForm","rejectWithValue","result","validate","abortEarly","error","details","resetForm","createQuizSlice","resetPostQuizRequest","setValidationErrors","setQuizTitle","setQuizDescription","addQuestion","removeQuestion","splice","setQuestionPrompt","reducer","questionIndex","questionPrompt","prepare","addChoice","removeChoice","choiceIndex","setChoicePrompt","choicePrompt","setChoiceCorrect","choiceCorrect","setActiveQuestionIndex","sGetQuiz","create","sGetQuizTitle","sGetQuizDescription","sGetQuestions","sGetQuestion","sGetChoices","sGetChoice","sGetActiveQuestionIndex","sGetPostQuizRequestStatus","sGetPostedQuizId","sGetQuizTitleError","filter","path","message","sGetQuizDescriptionError","sGetQuestionsAmountError","focus","setFocusChoiceIndex","questionId","sGetChoicePrompt","sGetChoiceCorrect","inputRef","Form","Group","controlId","Control","autoComplete","type","placeholder","value","ref","choicePromptInput","onChange","event","target","Check","label","checked","onChangeCallback","useState","focusChoiceIndex","sGetQuestionPrompt","isQuestionActive","choicesCount","questionPromptError","sGetQuestionPromptError","choiceCriteriaError","sGetChoiceCriteriaError","Collapse","in","icon","faTrash","Label","isInvalid","Feedback","choice","Choice","DummyChoice","display","quizDescription","quizTitleError","quizDescriptionError","quizQuestionsAmountError","question","Question","faPlus","sGetSimplifiedQuiz","open","simplifiedQuiz","sGetSimplifiedQuizId","sGetSimplifiedQuizTitle","sGetSimplifiedQuizDescription","sGetSimplifiedQuizRequestStatus","simplifiedQuizRequestStatus","fetchSimplifiedQuiz","getSimplifiedQuiz","openSlice","useParams","id","fetchUnrevealedQuiz","fetchCorrectChoices","sGetQuizRequestStatus","take","quizRequestStatus","sGetQuizId","sGetQuestionCount","choiceId","sGetCorrectChoicesRequestStatus","correctChoicesRequestStatus","sGetCurrentQuestionId","currentQuestionId","sGetSelectedChoiceId","selectedChoiceId","sGetIsChoiceSelected","sGetSelectedChoiceCorrect","selectedChoiceCorrect","sGetTotalCorrectQuestions","totalCorrectQuestions","sGetTotalWrongQuestions","totalWrongQuestions","getUnrevealedQuiz","getCorrectChoices","correctChoices","isCorrect","some","setSelectedChoiceCorrect","setTotalCorrectQuestions","setTotalWrongQuestions","quizFinished","takeSlice","clearCorrectChoices","incrementCurrentQuestionId","setSelectedChoiceId","loadQuiz","quizFailedToLoad","choiceClass","totalQuestions","isChoiceSelected","currentQuestion","isLastQuestion","ProgressBar","now","quizLoaded","QuestionCard","postLogin","login","userSchema","username","alphanum","password","postLoginRequestStatus","postLoginForm","user","field","loginSlice","setUsername","setPassword","sGetUsername","authentication","sGetPassword","sGetUser","sGetPostLoginRequestStatus","sGetValidationErrors","sGetUsernameError","sGetPasswordError","redirectPath","usernameError","passwordError","Boolean","postRegister","register","postRegisterRequestStatus","postRegisterForm","registerSlice","sGetPostRegisterRequestStatus","postLogout","postLogoutRequestStatus","postLogoutRequest","_","accountSlice","sGetPostLogoutRequestStatus","account","authenticatedUser","authenticatedRequestStatus","backgroundColor","Browse","Create","Open","Take","Login","Register","ProtectedRoute","Account","PostRequestLoadingCard","App","Main","quizReducer","combineReducers","browseReducer","createReducer","openReducer","takeReducer","authenticationReducer","loginReducer","registerReducer","accountReducer","store","configureStore","authenticatedReducer","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"gRAAaA,EAAwB,SAACC,GAAD,OACnCA,EAAMC,cAAcA,eAETC,EAAsB,SAACF,GAAD,OACK,OAAtCA,EAAMC,cAAcA,oBACkBE,IAAtCH,EAAMC,cAAcA,eAETG,EAAiC,SAACJ,GAAD,OAC5CA,EAAMC,cAAcI,+BAETC,EAA6B,SAACN,GAAD,OACP,GAAjCA,EAAMC,cAAcM,W,OCLP,aACb,IAAMC,EAAkBC,YAAYP,GAEpC,OACE,qBAAKQ,UAAU,SAAf,SACE,eAACC,EAAA,EAAD,CAAQC,GAAG,OAAOC,QAAQ,OAA1B,UACE,cAAC,gBAAD,CAAeC,OAAK,EAACC,GAAG,IAAxB,SACE,cAACJ,EAAA,EAAOK,MAAR,UACE,6CAGJ,eAACC,EAAA,EAAD,CAAKP,UAAU,0BAA0BQ,MAAO,CAAEC,KAAM,GAAxD,UACE,cAAC,gBAAD,CAAeL,OAAK,EAACC,GAAG,IAAxB,SACE,cAACE,EAAA,EAAIG,KAAL,qBAEF,cAAC,gBAAD,CAAeL,GAAG,eAAlB,SACE,cAACE,EAAA,EAAIG,KAAL,uBAEF,cAAC,gBAAD,CAAeL,GAAG,eAAlB,SACE,cAACE,EAAA,EAAIG,KAAL,uBAEDZ,EACC,cAAC,gBAAD,CAAeE,UAAU,UAAUK,GAAG,0BAAtC,SACE,cAACE,EAAA,EAAIG,KAAL,wBAGF,eAAC,IAAMC,SAAP,WACE,cAAC,gBAAD,CAAeX,UAAU,UAAUK,GAAG,wBAAtC,SACE,cAACE,EAAA,EAAIG,KAAL,sBAEF,cAAC,gBAAD,CAAeL,GAAG,2BAAlB,SACE,cAACE,EAAA,EAAIG,KAAL,+BAMR,cAACH,EAAA,EAAD,CAAKP,UAAU,oBAAf,SACE,eAACY,EAAA,EAAD,CAAaC,MAAM,OAAnB,UACE,cAAC,gBAAD,CAAeT,OAAK,EAACC,GAAG,IAAxB,SACE,cAACO,EAAA,EAAYE,KAAb,qBAEF,cAAC,gBAAD,CAAeT,GAAG,eAAlB,SACE,cAACO,EAAA,EAAYE,KAAb,uBAEF,cAAC,gBAAD,CAAeT,GAAG,eAAlB,SACE,cAACO,EAAA,EAAYE,KAAb,uBAEF,cAACF,EAAA,EAAYG,QAAb,IACCjB,EACC,cAAC,gBAAD,CAAeO,GAAG,0BAAlB,SACE,cAACO,EAAA,EAAYE,KAAb,wBAGF,eAAC,IAAMH,SAAP,WACE,cAAC,gBAAD,CAAeN,GAAG,wBAAlB,SACE,cAACO,EAAA,EAAYE,KAAb,sBAEF,cAAC,gBAAD,CAAeT,GAAG,2BAAlB,SACE,cAACO,EAAA,EAAYE,KAAb,uC,+CCjEX,SAAeE,IAAtB,+B,4CAAO,8BAAAC,EAAA,sEACkBC,MAAM,sBADxB,cACCC,EADD,gBAEcA,EAASC,OAFvB,cAECC,EAFD,yBAGEA,EAAK9B,eAHP,4C,sBCGP,IAAM+B,EAAe,CACnB/B,cAAe,KACfI,8BAA+B,OAC/BE,WAAW,GAGA0B,EAAmBC,YAC9B,iCAD8C,sBAE9C,4BAAAP,EAAA,sEACqBD,IADrB,cACQK,EADR,yBAESA,GAFT,4CAMII,EAAqBC,YAAY,CACrCC,KAAM,gBACNL,eACAM,SAAU,CACRC,MADQ,SACFvC,EAAOwC,GACX,OAAO,eAAKR,KAGhBS,cAAe,SAACC,GACdA,EACGC,QAAQV,EAAiBW,SAAS,SAAC5C,EAAOwC,GACzCxC,EAAMK,8BAAgC,UACtCL,EAAMC,cAAgB,KACtBD,EAAMO,WAAY,KAEnBoC,QAAQV,EAAiBY,WAAW,SAAC7C,EAAOwC,GAC3CxC,EAAMK,8BAAgC,YACtCL,EAAMC,cAAgBuC,EAAOM,WAE9BH,QAAQV,EAAiBc,UAAU,SAAC/C,EAAOwC,GAC1CxC,EAAMK,8BAAgC,WACtCL,EAAMC,cAAgB,WAOfkC,GAFUA,EAAmBa,QAA7BT,MAEAJ,EAAf,S,0BC3Ce,aACb,OACE,cAACc,EAAA,EAAD,CAAQpC,QAAQ,YAAYqC,UAAQ,EAApC,SACE,cAACC,EAAA,EAAD,CAASC,KAAK,KAAKC,UAAU,cCHpB,cAA8C,IAAlCC,EAAiC,EAAjCA,oBAAqBC,EAAY,EAAZA,SAC9C,OACE,cAACN,EAAA,EAAD,CAAQpC,QAAQ,UAAU2C,QAASF,EAAnC,SACGC,KCHQ,cAAoC,IAAxBD,EAAuB,EAAvBA,oBACzB,OACE,cAACL,EAAA,EAAD,CAAQpC,QAAQ,SAAS2C,QAASF,EAAlC,oBCAW,WAAUG,GAAQ,IACvB/C,EAAgE+C,EAAhE/C,UAAW4C,EAAqDG,EAArDH,oBAAqBI,EAAgCD,EAAhCC,kBAAmBH,EAAaE,EAAbF,SAE3D,OACE,qBAAK7C,UAAWA,EAAY,YAA5B,SACwB,QAArBgD,EACC,cAACC,EAAD,CACEL,oBAAqBA,EACrBC,SAAUA,IAEW,WAArBG,EACF,cAACE,EAAD,IACuB,aAArBF,EACF,OACuB,YAArBA,EACF,cAACG,EAAD,CAAaP,oBAAqBA,IAElC,aClBO,WAAUG,GAAQ,IAE7B/C,EAOE+C,EAPF/C,UACA4C,EAMEG,EANFH,oBACAI,EAKED,EALFC,kBACAI,EAIEL,EAJFK,kBACAC,EAGEN,EAHFM,mBACAC,EAEEP,EAFFO,gBACAC,EACER,EADFQ,iBAGF,OACE,qBAAKvD,UAAWA,EAAhB,SACE,eAACwD,EAAA,EAAD,WACE,cAACA,EAAA,EAAKC,OAAN,UACE,6BACwB,YAArBT,EACGK,EACAD,MAGR,cAACI,EAAA,EAAKE,KAAN,UACwB,YAArBV,EAAkCO,EAAmBD,IAExD,cAACE,EAAA,EAAKG,OAAN,CAAa3D,UAAU,SAAvB,SACE,cAAC4D,EAAD,CACE5D,UAAU,UACV4C,oBAAqBA,EACrBI,kBAAmBA,EACnBH,SAAS,oB,QCxBN,kBAAkC,IAAtBgB,EAAqB,EAArBA,SAAaC,EAAQ,4BACxCC,EAAWC,cACXC,EALC,IAAIC,gBAAgBF,cAAcG,QAMzCF,EAAMG,IAAI,WAAYL,EAASM,UAE/B,IAAMvE,EAAkBC,YAAYP,GAEpC,OACE,cAAC,IAAD,2BAAWsE,GAAX,aACGhE,EACC+D,EAEA,cAAC,IAAD,CAAUzD,OAAK,EAACC,GAAI,yBAA2B4D,EAAMK,iB,0BCpBtD,SAAeC,IAAtB,+B,4CAAO,8BAAAtD,EAAA,sEACkBC,MAAM,8BADxB,cACCC,EADD,gBAEcA,EAASC,OAFvB,cAECC,EAFD,yBAGEA,EAAKmD,OAHP,4C,sBAMA,SAAeC,EAAtB,oC,4CAAO,WAAsCC,EAAWC,GAAjD,iBAAA1D,EAAA,sEACkBC,MAAM,sCAAD,OACYwD,EADZ,YACyBC,IAFhD,cACCxD,EADD,gBAIcA,EAASC,OAJvB,cAICC,EAJD,yBAKEA,GALF,4C,sBCJA,IAEMuD,EAA6B,SAACtF,GAAD,OACxCA,EAAMuF,KAAKC,OAAOC,wBAKPC,EAAqC,SAAC1F,GAAD,OAChDA,EAAMuF,KAAKC,OAAOG,gCAEPC,EAAkB,SAAC5F,GAAD,OAAWA,EAAMuF,KAAKC,OAAOK,aAE/CC,EAAiB,SAACC,EAAaC,GAAd,OAA4B,SAAChG,GAAD,OCfnD,SAAuB+F,EAAaC,EAAWC,GACpD,IAAIC,EAAiBH,EAAcC,EACnC,OAAOG,KAAKC,KAAKH,EAAeC,GDchCG,CAAcN,EAAaC,EAdA,SAAChG,GAAD,OAAWA,EAAMuF,KAAKC,OAAOc,UAclBC,CAAcvG,MEZhDgC,EAAe,CACnBsE,UAAW,EACXE,kBAAmB,GACnBf,uBAAwB,OACxBE,+BAAgC,OAChCE,YAAa,GAGFY,EAAevE,YAC1B,sBAD0C,sBAE1C,sBAAAP,EAAA,sEACesD,IADf,oFAKWyB,EAAuBxE,YAClC,8BADkD,uCAElD,WAAOmD,EAAP,sBAAA1D,EAAA,6DAAmBgF,EAAnB,EAAmBA,SACXC,EAAahB,EAAgBe,KADrC,SAEsBxB,EAAuByB,EAAa,EAAGvB,GAF7D,cAEQwB,EAFR,yBAGSA,GAHT,2CAFkD,yDAS9CC,GAAc1E,YAAY,CAC9BC,KAAM,SACNL,eACAM,SAAU,CACRC,MADQ,SACFvC,EAAOwC,GACX,OAAO,eAAKR,IAGd+E,eALQ,SAKO/G,EAAOwC,GACpBxC,EAAM6F,YAAcrD,EAAOM,UAG/BL,cAAe,SAACC,GACdA,EACGC,QAAQ8D,EAAa7D,SAAS,SAAC5C,EAAOwC,GACrCxC,EAAMyF,uBAAyB,aAEhC9C,QAAQ8D,EAAa5D,WAAW,SAAC7C,EAAOwC,GACvCxC,EAAMyF,uBAAyB,YAC/BzF,EAAMsG,UAAY9D,EAAOM,WAE1BH,QAAQ8D,EAAa1D,UAAU,SAAC/C,EAAOwC,GACtCxC,EAAMyF,uBAAyB,cAEhC9C,QAAQ+D,EAAqB9D,SAAS,SAAC5C,EAAOwC,GAC7CxC,EAAM2F,+BAAiC,aAExChD,QAAQ+D,EAAqB7D,WAAW,SAAC7C,EAAOwC,GAC/CxC,EAAM2F,+BAAiC,YACvC3F,EAAMwG,kBAAoBhE,EAAOM,WAElCH,QAAQ+D,EAAqB3D,UAAU,SAAC/C,EAAOwC,GAC9CxC,EAAM2F,+BAAiC,iB,GAKNmB,GAAY9D,QAAtCT,G,GAAAA,MAAOwE,G,GAAAA,eAEPD,MAAf,Q,UCjEaE,GAAqB,SAChCC,EACApB,EACAqB,GAEA,IAAIC,EAAkB,GACtB,GAAIF,GAAc,EAChB,IAAK,IAAIG,EAAU,EAAGA,EAAUH,EAAa,EAAGG,IAC9CD,EAAgBE,KAAKD,QAGvB,IAAK,IAAIA,EAAUvB,EAAc,EAAGuB,EAAUvB,EAAc,EAAGuB,IACzDA,EAAU,GAAKA,GAAWH,GAC5BE,EAAgBE,KAAKD,GAI3B,OAAOD,GAGIG,GAAgB,SAC3BL,EACApB,EACAqB,EACAC,GAEA,OAAOA,EAAgBI,KAAI,SAACC,GAAD,OACzB,cAACC,GAAA,EAAWjG,KAAZ,CAEEkG,OAAQF,GAAS3B,EACjBrC,QAAS,kBAAM0D,EAAmBM,IAHpC,SAKGA,GAJIA,OC3BX,SAASG,GAAqBlE,GAAQ,IAC9BwD,EAAgDxD,EAAhDwD,WAAYpB,EAAoCpC,EAApCoC,YAAaqB,EAAuBzD,EAAvByD,mBAC/B,OAAOI,GACLL,EACApB,EACAqB,EACAF,GAAmBC,EAAYpB,IAIpB,SAAS+B,GAAkBnE,GACxC,OAAO,cAACgE,GAAA,EAAD,UAAaE,GAAqBlE,KCX3C,SAASoE,GAAuBpE,GAAQ,IAChCoC,EAAoCpC,EAApCoC,YAAaqB,EAAuBzD,EAAvByD,mBAEfY,EAAejC,EAAc,EAIjC,OAHIiC,GAAgB,IAClBA,EAAe,GAEV,cAACL,GAAA,EAAWM,KAAZ,CAAiBvE,QAAS,kBAAM0D,EAAmBY,MAG5D,SAASE,GAAuBvE,GAAQ,IAChCwD,EAAgDxD,EAAhDwD,WAAYpB,EAAoCpC,EAApCoC,YAAaqB,EAAuBzD,EAAvByD,mBAE/B,OAAOI,GACLL,EACApB,EACAqB,EACAF,GAAmBC,EAAYpB,IAInC,SAASoC,GAAuBxE,GAAQ,IAChCwD,EAAgDxD,EAAhDwD,WAAYpB,EAAoCpC,EAApCoC,YAAaqB,EAAuBzD,EAAvByD,mBAE3BY,EAAejC,EAAc,EAIjC,OAHIiC,GAAgBb,IAClBa,EAAeb,GAEV,cAACQ,GAAA,EAAWS,KAAZ,CAAiB1E,QAAS,kBAAM0D,EAAmBY,MAG7C,SAASK,GAAoB1E,GAC1C,OACE,eAACgE,GAAA,EAAD,WACGI,GAAuBpE,GACvBuE,GAAuBvE,GACvBwE,GAAuBxE,MCV9B,SAAS2E,GAAwB3E,GAAQ,IACjCyD,EAAuBzD,EAAvByD,mBAEN,OAAO,cAACO,GAAA,EAAWY,MAAZ,CAAkB7E,QAAS,kBAAM0D,EAAmB,MAG7D,SAASW,GAAuBpE,GAAQ,IAChCoC,EAAoCpC,EAApCoC,YAAaqB,EAAuBzD,EAAvByD,mBAEfY,EAAejC,EAAc,EAIjC,OAHIiC,GAAgB,IAClBA,EAAe,GAEV,cAACL,GAAA,EAAWM,KAAZ,CAAiBvE,QAAS,kBAAM0D,EAAmBY,MAG5D,SAASQ,GAAoB7E,GAC2BA,EAAhDwD,WAD6B,IACjBpB,EAAoCpC,EAApCoC,YAAaqB,EAAuBzD,EAAvByD,mBAE/B,OA7CF,SAAoCD,EAAYpB,GAC9C,OAAOA,EAAc,EA6CnB0C,CAA2BtB,EAAYpB,IACrC,cAAC4B,GAAA,EAAWe,SAAZ,CACEhF,QAAS,kBACP0D,EAzCV,SAAkCD,EAAYpB,GAC5C,IAAI4C,EAAY5C,EAAc,EAC9B,OAAI4C,GAAa,EACR,EAEAA,EAoCkBC,CAAyBzB,EAAYpB,OAOlE,SAAS8C,GAAsBlF,GAAQ,IAC/BwD,EAAgDxD,EAAhDwD,WAAYpB,EAAoCpC,EAApCoC,YAAaqB,EAAuBzD,EAAvByD,mBAC3BC,EAAkBH,GAAmBC,EAAYpB,GAGrD,OAFAsB,EAAgByB,QAChBzB,EAAgB0B,MACTvB,GACLL,EACApB,EACAqB,EACAC,GAIJ,SAAS2B,GAAqBrF,GAAQ,IAC9BwD,EAAgDxD,EAAhDwD,WAAYpB,EAAoCpC,EAApCoC,YAAaqB,EAAuBzD,EAAvByD,mBAE/B,OApEF,SAAqCD,EAAYpB,GAC/C,OAAOA,EAAcoB,EAAa,EAoEhC8B,CAA4B9B,EAAYpB,IACtC,cAAC4B,GAAA,EAAWe,SAAZ,CACEhF,QAAS,kBACP0D,EA3DV,SAAmCD,EAAYpB,GAC7C,IAAI4C,EAAY5C,EAAc,EAC9B,OAAI4C,GAAaxB,EACRA,EAEAwB,EAsDkBO,CAA0B/B,EAAYpB,OAOnE,SAASoC,GAAuBxE,GAAQ,IAChCwD,EAAgDxD,EAAhDwD,WAAYpB,EAAoCpC,EAApCoC,YAAaqB,EAAuBzD,EAAvByD,mBAE3BY,EAAejC,EAAc,EAIjC,OAHIiC,GAAgBb,IAClBa,EAAeb,GAEV,cAACQ,GAAA,EAAWS,KAAZ,CAAiB1E,QAAS,kBAAM0D,EAAmBY,MAG5D,SAASmB,GAAuBxF,GAAQ,IAChCwD,EAAmCxD,EAAnCwD,WAAYC,EAAuBzD,EAAvByD,mBAElB,OAAO,cAACO,GAAA,EAAWyB,KAAZ,CAAiB1F,QAAS,kBAAM0D,EAAmBD,MAG7C,SAASkC,GAAmB1F,GAAQ,IAC3CwD,EAAgDxD,EAAhDwD,WAAYpB,EAAoCpC,EAApCoC,YAAaqB,EAAuBzD,EAAvByD,mBAE/B,OACE,eAACO,GAAA,EAAD,WACGW,GAAwB3E,GACxBoE,GAAuBpE,GACxB,cAACgE,GAAA,EAAWjG,KAAZ,CACEkG,OAAQ,IAAM7B,EACdrC,QAAS,kBAAM0D,EAAmB,IAFpC,eAMCoB,GAAoB7E,GACpBkF,GAAsBlF,GACtBqF,GAAqBrF,GACtB,cAACgE,GAAA,EAAWjG,KAAZ,CACEkG,OAAQT,IAAepB,EACvBrC,QAAS,kBAAM0D,EAAmBD,IAFpC,SAIGA,IAEFgB,GAAuBxE,GACvBwF,GAAuBxF,MCzHf,gBAAUA,GAAQ,IACzBoC,EAAgDpC,EAAhDoC,YAAaoB,EAAmCxD,EAAnCwD,WAAYC,EAAuBzD,EAAvByD,mBAE/B,OACE,qBAAKxG,UAAU,0CAAf,SACGuG,GAAc,EACb,cAACW,GAAD,CACE/B,YAAaA,EACboB,WAAYA,EACZC,mBAAoBA,IAEpBD,GAAc,EAChB,cAACkB,GAAD,CACEtC,YAAaA,EACboB,WAAYA,EACZC,mBAAoBA,IAGtB,cAACiC,GAAD,CACEtD,YAAaA,EACboB,WAAYA,EACZC,mBAAoBA,OClBf,eAA8B,IAAlBkC,EAAiB,EAAjBA,cACnB3D,EAAyBhF,YAAY6E,GACrCK,EAAiClF,YACrCiF,GAGI2D,EACsB,YAA1B5D,GACkC,YAAlCE,EAEF,OACE,qBAAKjF,UAAU,kBAAf,SACE,eAACwD,EAAA,EAAD,CAAMxD,UAAU,QAAhB,UACE,eAACwD,EAAA,EAAKE,KAAN,WACE,cAACF,EAAA,EAAKoF,MAAN,UACGD,EAAwB,WAAa,eAExC,cAACnF,EAAA,EAAKqF,KAAN,UACGF,EACG,qCACA,oCAGR,cAACnF,EAAA,EAAKG,OAAN,UACGgF,EACC,cAACpG,EAAA,EAAD,CAAQpC,QAAQ,SAAS2C,QAAS4F,EAAlC,mBAIA,cAACnG,EAAA,EAAD,CAAQC,UAAQ,EAACrC,QAAQ,oBAAzB,oCCjCG,eAAqB,IAAT0E,EAAQ,EAARA,KACnBiE,EAASjE,EAAKkE,IACdC,EAAYnE,EAAKhE,MACjBoI,EACJpE,EAAKqE,YAAYC,OAAS,IACtBtE,EAAKqE,YAAYE,UAAU,EAAG,KAAO,MACrCvE,EAAKqE,YAEX,OACE,qBAAKlJ,UAAU,kBAAf,SACE,eAACwD,EAAA,EAAD,CAAMxD,UAAU,QAAhB,UACE,eAACwD,EAAA,EAAKE,KAAN,WACE,cAACF,EAAA,EAAKoF,MAAN,UAAaI,IACb,cAACxF,EAAA,EAAKqF,KAAN,UAAYI,OAEd,cAACzF,EAAA,EAAKG,OAAN,UACE,cAAC,gBAAD,CAAetD,GAAI,cAAgByI,EAAnC,SACE,cAACvG,EAAA,EAAD,CAAQvC,UAAU,OAAOG,QAAQ,kBAAjC,4BCQG,kBACb,IAAMkJ,EAAWC,cACXvF,EAAWC,cACXC,EANC,IAAIC,gBAAgBF,cAAcG,QAOnCoF,EAAUC,cAEVrE,EAAcpF,YAAYmF,GAC1BuE,EAAcC,SAASzF,EAAM0F,IAAI,UAAY,EAC/CF,IAAgBtE,GAAakE,EAAShD,GAAeoD,IAEzD,IVpBuBpE,EAAaC,EUoB9BiB,EAAaxG,YAAYqF,EAjBb,EACF,IAiBVwE,EAAO7J,aVrBUsF,EUGL,EVHkBC,EUIpB,EVJkC,SAAChG,GAAD,OCb7C,SAA4B+F,EAAaC,EAAWuE,GAEzD,IADA,IAAIC,EAAW,GACNC,EAAW,EAAGA,EAAWzE,EAAWyE,IAAY,CACvDD,EAASC,GAAY,GAGrB,IAFA,IACIC,EADuBD,EAAW1E,EAGhC4E,EAAYD,EAChBC,EAAYD,EAAoB3E,EAChC4E,IACA,CACA,IAAIC,EAAWL,EAAQI,GACnBC,GAAUJ,EAASC,GAAUpD,KAAKuD,IAG1C,OAAOJ,EDDPK,CAAmB9E,EAAaC,EAZG,SAAChG,GAAD,OACnCA,EAAMuF,KAAKC,OAAOgB,kBAWyBsE,CAAsB9K,OUsB3DyF,EAAyBhF,YAAY6E,GACrCK,EAAiClF,YACrCiF,GAEIqF,EACsB,aAA1BtF,GACkC,aAAlCE,EAEIyD,EAAgB,WACpBW,EAAStD,KACTsD,EAASrD,EAAqBX,MAahC,OAVAiF,qBAAU,WACR5B,MACC,CAACvD,IAEJmF,qBAAU,WACR,OAAO,WACLjB,EAASxH,SAEV,IAGD,sBAAK7B,UAAU,cAAf,UACE,cAACuK,EAAA,EAAD,CAAWC,OAAK,EAAhB,SACIH,EAOAT,EAAK/C,KAAI,SAAC4D,EAAKV,GAAN,OACP,cAACW,EAAA,EAAD,UACGD,EAAI5D,KAAI,SAAChC,EAAM8F,GAAP,OACP,cAACC,EAAA,EAAD,CAAK5K,UAAU,OAAO6K,GAAI,EAA1B,SACE,cAACC,GAAD,CAAUjG,KAAMA,KAD+B8F,OAF3CZ,MAPZ,cAACW,EAAA,EAAD,UACE,cAACE,EAAA,EAAD,CAAK5K,UAAU,OAAf,SACE,cAAC+K,GAAD,CAAiBrC,cAAeA,UAexC,cAACsC,GAAD,CACEzE,WAAYA,EACZpB,YAAaA,EACbqB,mBAAoB,SAACyE,GACnBhH,EAAMG,IAAI,OAAQ6G,GAClB1B,EAAQ5C,KAAK5C,EAASM,SAAW,IAAMJ,EAAMK,mB,4BC1FhD,SAAe4G,GAAtB,mC,8CAAO,WAAwBrG,GAAxB,mBAAA5D,EAAA,6DACCkK,EAAiB,CACrBC,OAAQ,OACRC,QAAS,CAAE,eAAgB,oBAC3BC,KAAMC,KAAKC,UAAU3G,IAJlB,SAOkB3D,MAAM,4BAA6BiK,GAPrD,cAOChK,EAPD,gBAQcA,EAASC,OARvB,cAQCC,EARD,yBASEA,GATF,4C,8CCEDoK,GAAeC,KAAIC,OAAO,CAC9BC,OAAQF,KAAIG,SAASC,OAAOC,IAAI,GAAGC,IAAI,KAAKC,WAC5CC,QAASR,KAAIS,UAAUF,aAGnBG,GAAiBV,KAAIC,OAAO,CAChCC,OAAQF,KAAIG,SAASC,OAAOC,IAAI,IAAIC,IAAI,KAAKC,WAC7CI,QAASX,KAAIY,QACVC,MAAMd,IACNe,IAAI,CACHZ,OAAQF,KAAIG,SAASC,OAAOC,IAAI,GAAGC,IAAI,KAAKC,WAC5CC,QAASR,KAAIS,UAAUM,OAAM,GAAOR,aAErCO,IAAI,CACHZ,OAAQF,KAAIG,SAASC,OAAOC,IAAI,GAAGC,IAAI,KAAKC,WAC5CC,QAASR,KAAIS,UAAUM,OAAM,GAAMR,aAEpCA,aASUS,GANIhB,KAAIC,OAAO,CAC5B9K,MAAO6K,KAAIG,SAASC,OAAOC,IAAI,IAAIC,IAAI,IAAIC,WAC3C/C,YAAawC,KAAIG,SAASC,OAAOC,IAAI,IAAIC,IAAI,KAAKC,WAClDU,UAAWjB,KAAIY,QAAQC,MAAMH,IAAgBL,IAAI,GAAGE,aCrBhD3K,GAAe,CACnBuD,KAAM,CACJhE,MAAO,GACPqI,YAAa,GACbyD,UAAW,IAEbC,qBAAsB,EACtBC,sBAAuB,OACvBC,aAAc,GACdC,iBAAkB,IAGPC,GAAqBxL,YAChC,4BADgD,uCAEhD,WAAOqD,EAAP,wBAAA5D,EAAA,yDAAeoI,EAAf,EAAeA,SAAU4D,EAAzB,EAAyBA,kBACjBC,EAASR,GAAWS,SAAStI,EAAM,CAAEuI,YAAY,KAC5CC,MAFb,yCAE2BJ,EAAgBC,EAAOG,MAAMC,UAFxD,uBAIqBpC,GAASrG,GAJ9B,cAIQxD,EAJR,OAKEgI,EAASkE,MALX,kBAMSlM,GANT,2CAFgD,yDAY5CmM,GAAkB9L,YAAY,CAClCC,KAAM,SACNL,gBACAM,SAAU,CACRC,MADQ,SACFvC,EAAOwC,GACX,OAAO,eAAKR,KAGdiM,UALQ,SAKEjO,EAAOwC,GACfxC,EAAMuF,KAAO,CACXhE,MAAO,GACPqI,YAAa,GACbyD,UAAW,KAIfc,qBAbQ,SAaanO,EAAOwC,GAC1BxC,EAAMuN,sBAAwB,OAC9BvN,EAAMwN,aAAe,IAGvBY,oBAlBQ,SAkBYpO,EAAOwC,GACzBxC,EAAMyN,iBAAmBjL,EAAOM,SAGlCuL,aAtBQ,SAsBKrO,EAAOwC,GAClBxC,EAAMuF,KAAKhE,MAAQiB,EAAOM,SAG5BwL,mBA1BQ,SA0BWtO,EAAOwC,GACxBxC,EAAMuF,KAAKqE,YAAcpH,EAAOM,SAGlCyL,YA9BQ,SA8BIvO,EAAOwC,GACjBxC,EAAMuF,KAAK8H,UAAUhG,KAAK,CACxBiF,OAAQ,GACRS,QAAS,MAIbyB,eArCQ,SAqCOxO,EAAOwC,GACpBxC,EAAMuF,KAAK8H,UAAUoB,OAAOjM,EAAOM,QAAS,IAG9C4L,kBAAmB,CACjBC,QADiB,SACT3O,EAAOwC,GAAS,IAAD,EACqBA,EAAOM,QAAzC8L,EADa,EACbA,cAAeC,EADF,EACEA,eACvB7O,EAAMuF,KAAK8H,UAAUuB,GAAetC,OAASuC,GAE/CC,QALiB,SAKTF,EAAeC,GACrB,MAAO,CACL/L,QAAS,CAAE8L,gBAAeC,qBAKhCE,UArDQ,SAqDE/O,EAAOwC,GACfxC,EAAMuF,KAAK8H,UAAU7K,EAAOM,SAASiK,QAAQ1F,KAAK,CAChDiF,OAAQ,GACRM,SAAS,KAIboC,aAAc,CACZL,QADY,SACJ3O,EAAOwC,GAAS,IAAD,EACkBA,EAAOM,QAAtC8L,EADa,EACbA,cAAeK,EADF,EACEA,YACvBjP,EAAMuF,KAAK8H,UAAUuB,GAAe7B,QAAQ0B,OAAOQ,EAAa,IAElEH,QALY,SAKJF,EAAeK,GACrB,MAAO,CACLnM,QAAS,CAAE8L,gBAAeK,kBAKhCC,gBAAiB,CACfP,QADe,SACP3O,EAAOwC,GAAS,IAAD,EACgCA,EAAOM,QAApD8L,EADa,EACbA,cAAeK,EADF,EACEA,YAAaE,EADf,EACeA,aACpCnP,EAAMuF,KAAK8H,UAAUuB,GAAe7B,QAClCkC,GACA3C,OAAS6C,GAEbL,QAPe,SAOPF,EAAeK,EAAaE,GAClC,MAAO,CACLrM,QAAS,CAAE8L,gBAAeK,cAAaE,mBAK7CC,iBAAkB,CAChBT,QADgB,SACR3O,EAAOwC,GAAS,IAAD,EACiCA,EAAOM,QAArD8L,EADa,EACbA,cAAeK,EADF,EACEA,YAAaI,EADf,EACeA,cACpCrP,EAAMuF,KAAK8H,UAAUuB,GAAe7B,QAClCkC,GACArC,QAAUyC,GAEdP,QAPgB,SAORF,EAAeK,EAAaI,GAClC,MAAO,CACLvM,QAAS,CAAE8L,gBAAeK,cAAaI,oBAK7CC,uBApGQ,SAoGetP,EAAOwC,GAC5BxC,EAAMsN,oBAAsB9K,EAAOM,UAGvCL,cAAe,SAACC,GACdA,EACGC,QAAQ+K,GAAmB9K,SAAS,SAAC5C,EAAOwC,GAC3CxC,EAAMuN,sBAAwB,aAE/B5K,QAAQ+K,GAAmB7K,WAAW,SAAC7C,EAAOwC,GAC7CxC,EAAMuN,sBAAwB,YAC9BvN,EAAMyN,iBAAmB,GACzBzN,EAAMwN,aAAehL,EAAOM,QAAQ2G,OAErC9G,QAAQ+K,GAAmB3K,UAAU,SAAC/C,EAAOwC,GAC5CxC,EAAMuN,sBAAwB,WAC9BvN,EAAMyN,iBAAmBjL,EAAOM,c,GAoBpCoL,GAAgBlL,QAdlBT,G,GAAAA,MACA0L,G,GAAAA,UACAE,G,GAAAA,qBAEAE,I,GADAD,oB,GACAC,cACAC,G,GAAAA,mBACAC,G,GAAAA,YACAC,G,GAAAA,eACAE,G,GAAAA,kBACAK,G,GAAAA,UACAC,G,GAAAA,aACAE,G,GAAAA,gBACAE,G,GAAAA,iBACAE,G,GAAAA,uBAGapB,MAAf,QCzKaqB,GAAW,SAACvP,GAAD,OAAWA,EAAMuF,KAAKiK,OAAOjK,MAExCkK,GAAgB,SAACzP,GAAD,OAAWuP,GAASvP,GAAOuB,OAE3CmO,GAAsB,SAAC1P,GAAD,OAAWuP,GAASvP,GAAO4J,aAEjD+F,GAAgB,SAAC3P,GAAD,OAAWuP,GAASvP,GAAOqN,WAE3CuC,GAAe,SAAChB,GAAD,OAAmB,SAAC5O,GAAD,OAC7C2P,GAAc3P,GAAO4O,KAKViB,GAAc,SAACjB,GAAD,OAAmB,SAAC5O,GAAD,OAC5C4P,GAAahB,EAAbgB,CAA4B5P,GAAO+M,UAExB+C,GAAa,SAAClB,EAAeK,GAAhB,OAAgC,SAACjP,GAAD,OACxD6P,GAAYjB,EAAZiB,CAA2B7P,GAAOiP,KAQvBc,GAA0B,SAAC/P,GAAD,OACrCA,EAAMuF,KAAKiK,OAAOlC,qBAEP0C,GAA4B,SAAChQ,GAAD,OACvCA,EAAMuF,KAAKiK,OAAOjC,uBAEP0C,GAAmB,SAACjQ,GAAD,OAAWA,EAAMuF,KAAKiK,OAAOhC,cAEhD0C,GAAqB,SAAClQ,GAAD,uBAChCA,EAAMuF,KAAKiK,OAAO/B,iBAAiB0C,QACjC,gBAAGC,EAAH,EAAGA,KAAH,OAA6B,GAAfA,EAAKvG,QAA0B,SAAXuG,EAAK,MACvC,UAH8B,aAChC,EAEMC,SAEKC,GAA2B,SAACtQ,GAAD,uBACtCA,EAAMuF,KAAKiK,OAAO/B,iBAAiB0C,QACjC,gBAAGC,EAAH,EAAGA,KAAH,OAA6B,GAAfA,EAAKvG,QAA0B,eAAXuG,EAAK,MACvC,UAHoC,aACtC,EAEMC,SAEKE,GAA2B,SAACvQ,GAAD,uBACtCA,EAAMuF,KAAKiK,OAAO/B,iBAAiB0C,QACjC,gBAAGC,EAAH,EAAGA,KAAH,OAA6B,GAAfA,EAAKvG,QAA0B,aAAXuG,EAAK,MACvC,UAHoC,aACtC,EAEMC,S,kBClCO,eAKX,IAJFzB,EAIC,EAJDA,cACAK,EAGC,EAHDA,YACAuB,EAEC,EAFDA,MACAC,EACC,EADDA,oBAEM1G,EAAWC,cAEXmF,EAAe1O,YDDS,SAACiQ,EAAYzB,GAAb,OAA6B,SAACjP,GAAD,OAC3D8P,GAAWY,EAAYzB,EAAvBa,CAAoC9P,GAAOsM,QCCzCqE,CAAiB/B,EAAeK,IAE5BI,EAAgB5O,YDDS,SAACiQ,EAAYzB,GAAb,OAA6B,SAACjP,GAAD,OAC5D8P,GAAWY,EAAYzB,EAAvBa,CAAoC9P,GAAO4M,SCCzCgE,CAAkBhC,EAAeK,IAG/B4B,EAAW,KASf,OAPA7F,qBAAU,WACJwF,IACFC,GAAqB,GACrBI,EAASL,YAKX,qBAAK9P,UAAU,mBAAf,SACE,eAACoQ,GAAA,EAAD,CAAMpQ,UAAU,8BAAhB,UACE,cAACoQ,GAAA,EAAKC,MAAN,CAAY7P,MAAO,CAAEC,KAAM,GAAK6P,UAAU,gBAA1C,SACE,cAACF,GAAA,EAAKG,QAAN,CACE7N,KAAK,KACL8N,aAAa,MACbC,KAAK,OACLC,YAAY,gBACZC,MAAOlC,EACPmC,IAAK,SAACC,GAAD,OAAwBV,EAAWU,GACxCC,SAAU,SAACC,GACiB,IAAtBA,EAAMC,OAAOL,OACftH,EAASiF,GAAaJ,EAAeK,IACrCwB,EAAoBxB,IAEpBlF,EACEmF,GACEN,EACAK,EACAwC,EAAMC,OAAOL,aAOzB,cAACP,GAAA,EAAKC,MAAN,CAAYrQ,UAAW,eAAgBsQ,UAAU,iBAAjD,SACE,cAACF,GAAA,EAAKa,MAAN,CACER,KAAK,WACLS,MAAM,UACNC,QAASxC,EACTmC,SAAU,SAACC,GAAD,OACR1H,EACEqF,GACER,EACAK,EACAwC,EAAMC,OAAOG,qBCvEhB,eAA6D,IAAjDC,EAAgD,EAAhDA,iBAAkBtB,EAA8B,EAA9BA,MAAOC,EAAuB,EAAvBA,oBAC9CI,EAAW,KASf,OAPA7F,qBAAU,WACJwF,IACFC,GAAqB,GACrBI,EAASL,YAKX,qBAAK9P,UAAU,mBAAf,SACE,cAACoQ,GAAA,EAAD,CAAMpQ,UAAU,8BAAhB,SACE,cAACoQ,GAAA,EAAKC,MAAN,CAAY7P,MAAO,CAAEC,KAAM,GAAK6P,UAAU,gBAA1C,SACE,cAACF,GAAA,EAAKG,QAAN,CACE7N,KAAK,KACL8N,aAAa,MACbC,KAAK,OACLC,YAAY,gBACZC,MAAM,GACNC,IAAK,SAACC,GAAD,OAAwBV,EAAWU,GACxCC,SAAU,SAACC,GACTK,EAAiBL,EAAMC,OAAOL,iBCD7B,I,OAAA,YAA8B,IAAlBzC,EAAiB,EAAjBA,cACnB7E,EAAWC,cADyB,EAGM+H,oBAAU,GAHhB,oBAGnCC,EAHmC,KAGjBvB,EAHiB,KAKpC5B,EAAiBpO,YHlBS,SAACmO,GAAD,OAAmB,SAAC5O,GAAD,OACnD4P,GAAahB,EAAbgB,CAA4B5P,GAAOsM,QGiBA2F,CAAmBrD,IAChDsD,EACJzR,YAAYsP,KAA4BnB,EACpC7B,EAAUtM,YAAYoP,GAAYjB,IAClCuD,EAAepF,EAAQlD,OAEvBuI,EAAsB3R,YHcS,SAACmO,GAAD,OAAmB,SAAC5O,GAAD,uBACxDA,EAAMuF,KAAKiK,OAAO/B,iBAAiB0C,QACjC,gBAAGC,EAAH,EAAGA,KAAH,OACiB,GAAfA,EAAKvG,QACM,aAAXuG,EAAK,IACLA,EAAK,IAAMxB,GACA,UAAXwB,EAAK,MACP,UAPsD,aACxD,EAMMC,SGpBJgC,CAAwBzD,IAEpB0D,EAAsB7R,YHoBS,SAACmO,GAAD,OAAmB,SAAC5O,GAAD,uBACxDA,EAAMuF,KAAKiK,OAAO/B,iBAAiB0C,QACjC,gBAAGC,EAAH,EAAGA,KAAH,OACiB,GAAfA,EAAKvG,QACM,aAAXuG,EAAK,IACLA,EAAK,IAAMxB,GACA,WAAXwB,EAAK,MACP,UAPsD,aACxD,EAMMC,SG1BJkC,CAAwB3D,IAG1B,OACE,sBAAKlO,UAAU,qBAAf,UACE,cAAC8R,GAAA,EAAD,CAAUC,GAAIP,EAAd,SACE,qBAAKxR,UAAU,4BAAf,SACE,qBAAKA,UAAU,YAAf,SACE,cAACuC,EAAA,EAAD,CACEpC,QAAQ,SACR2C,QAAS,kBAAMuG,EAASyE,GAAeI,KAFzC,SAIE,cAAC,KAAD,CAAiB8D,KAAMC,eAM/B,sBACEjS,UAAU,0BACV8C,QAAS,kBAAMuG,EAASuF,GAAuBV,KAFjD,UAIE,cAACkC,GAAA,EAAD,UACE,eAACA,GAAA,EAAKC,MAAN,CAAYC,UAAU,kBAAtB,UACE,cAACF,GAAA,EAAK8B,MAAN,8BACA,cAAC9B,GAAA,EAAKG,QAAN,CACEC,aAAa,MACbC,KAAK,OACLC,YAAY,kBACZC,MAAOxC,EACPgE,eAAmC1S,IAAxBiS,EACXZ,SAAU,SAACC,GAAD,OACR1H,EAAS2E,GAAkBE,EAAe6C,EAAMC,OAAOL,WAG3D,cAACP,GAAA,EAAKG,QAAQ6B,SAAd,CAAuB3B,KAAK,UAA5B,SACGiB,SAIP,uBAECrF,EAAQxF,KAAI,SAACwL,EAAQ9D,GAAT,OACX,cAAC+D,GAAD,CAEEpE,cAAeA,EACfK,YAAaA,EACbuB,MAAOvB,GAAe+C,EACtBvB,oBAAqBA,GAJhBxB,MAQT,cAACgE,GAAD,CACEnB,iBAAkB,SAACT,GACjBtH,EAASgF,GAAUH,IACnB7E,EAASmF,GAAgBN,EAAeuD,EAAcd,IACtDZ,EAAoB0B,IAEtB3B,MAAO2B,GAAgBH,EACvBvB,oBAAqBA,IAGvB,qBAAK/P,UAAU,mBAAmBQ,MAAO,CAAEgS,QAAS,SAApD,SACGZ,YCxEI,I,OAAA,WACb,IAAMvI,EAAWC,cACXC,EAAUC,cAEV3E,EAAO9E,YAAY8O,IACnB7F,EAAYjJ,YAAYgP,IACxB0D,EAAkB1S,YAAYiP,IAC9BrC,EAAY5M,YAAYkP,IAExBpC,EAAwB9M,YAAYuP,IACpCxC,EAAe/M,YAAYwP,IAE3BmD,EAAiB3S,YAAYyP,IAC7BmD,EAAuB5S,YAAY6P,IACnCgD,EAA2B7S,YAAY8P,IAW7C,OATAvF,qBAAU,WAIR,MAH8B,cAA1BuC,GACFtD,EAAQ5C,KAAR,qBAA2BmG,IAEtB,WACLzD,EAASoE,SAEV,CAACZ,IAGF,qBAAK7M,UAAU,cAAf,SACE,eAACwD,EAAA,EAAD,CAAMxD,UAAU,MAAhB,UACE,cAACwD,EAAA,EAAKC,OAAN,UACE,yDAGF,eAACD,EAAA,EAAKE,KAAN,WACE,qBAAK1D,UAAU,iBAAf,SACE,eAACoQ,GAAA,EAAD,WACE,eAACA,GAAA,EAAKC,MAAN,CAAYC,UAAU,aAAtB,UACE,cAACF,GAAA,EAAK8B,MAAN,yBACA,cAAC9B,GAAA,EAAKG,QAAN,CACE7N,KAAK,KACL8N,aAAa,MACbC,KAAK,OACLC,YAAY,aACZC,MAAO3H,EACPmJ,eAA8B1S,IAAnBiT,EACX5B,SAAU,SAACC,GAAD,OACR1H,EAASsE,GAAaoD,EAAMC,OAAOL,WAGvC,cAACP,GAAA,EAAKG,QAAQ6B,SAAd,CAAuB3B,KAAK,UAA5B,SACGiC,OAGL,eAACtC,GAAA,EAAKC,MAAN,CAAYC,UAAU,mBAAtB,UACE,cAACF,GAAA,EAAK8B,MAAN,+BACA,cAAC9B,GAAA,EAAKG,QAAN,CACE7N,KAAK,KACL8N,aAAa,MACbC,KAAK,OACLC,YAAY,mBACZC,MAAO8B,EACPN,eAAoC1S,IAAzBkT,EACX7B,SAAU,SAACC,GAAD,OACR1H,EAASuE,GAAmBmD,EAAMC,OAAOL,WAG7C,cAACP,GAAA,EAAKG,QAAQ6B,SAAd,CAAuB3B,KAAK,UAA5B,SACGkC,YAMRhG,EAAU9F,KAAI,SAACgM,EAAU3E,GAAX,OACb,cAAC4E,GAAD,CAA8B5E,cAAeA,GAA9BA,MAGjB,eAAC3L,EAAA,EAAD,CAAQpC,QAAQ,UAAU2C,QAAS,kBAAMuG,EAASwE,OAAlD,UACE,mBAAG7N,UAAU,OAAb,0BACA,cAAC,KAAD,CAAiBgS,KAAMe,UAEzB,qBAAK/S,UAAU,mBAAmBQ,MAAO,CAAEgS,QAAS,SAApD,SACGI,OAIL,eAACpP,EAAA,EAAKG,OAAN,WACE,cAACpB,EAAA,EAAD,CACEvC,UAAU,OACVG,QAAQ,UACR2C,QAAS,kBAAMuG,EAASxH,OAH1B,iBAQA,cAAC+B,EAAD,CACEhB,oBAAqB,kBAAMyG,EAAS2D,GAAmBnI,KACvD7B,kBAAmB6J,EACnBhK,SAAS,qBC/HRmQ,GAAqB,SAAC1T,GAAD,OAAWA,EAAMuF,KAAKoO,KAAKC,gBAEhDC,GAAuB,SAAC7T,GAAD,OAAW0T,GAAmB1T,GAAOyJ,KAE5DqK,GAA0B,SAAC9T,GAAD,OACrC0T,GAAmB1T,GAAOuB,OAEfwS,GAAgC,SAAC/T,GAAD,OAC3C0T,GAAmB1T,GAAO4J,aAEfoK,GAAkC,SAAChU,GAAD,OAC7CA,EAAMuF,KAAKoO,KAAKM,6BCFH,cACb,IAAMzK,EAAS/I,YAAYoT,IACrBnK,EAAYjJ,YAAYqT,IACxBX,EAAkB1S,YAAYsT,IAEpC,OACE,qBAAKrT,UAAU,OAAf,SACE,eAACwD,EAAA,EAAD,CAAMxD,UAAU,MAAhB,UACE,cAACwD,EAAA,EAAKC,OAAN,UACE,6BAAKuF,MAEP,cAACxF,EAAA,EAAKE,KAAN,UAAY+O,IACZ,cAACjP,EAAA,EAAKG,OAAN,UACE,cAAC,gBAAD,CAAevD,OAAK,EAACC,GAAI,cAAgByI,EAAzC,SACE,cAACvG,EAAA,EAAD,CAAQpC,QAAQ,UAAhB,4BCnBG,eAA8B,IAAlBuI,EAAiB,EAAjBA,cAKnBC,EAAuD,YAJzB5I,YAClCuT,IAKF,OACE,qBAAKtT,UAAU,OAAf,SACE,eAACwD,EAAA,EAAD,CAAMxD,UAAU,MAAhB,UACE,cAACwD,EAAA,EAAKC,OAAN,UACE,6BAAKkF,EAAwB,WAAa,iBAE5C,cAACnF,EAAA,EAAKE,KAAN,UACGiF,EACG,8BACA,8BAEN,cAACnF,EAAA,EAAKG,OAAN,UACGgF,EACC,cAACpG,EAAA,EAAD,CAAQpC,QAAQ,SAAS2C,QAAS4F,EAAlC,mBAIA,cAACnG,EAAA,EAAD,CAAQC,UAAQ,EAACrC,QAAQ,YAAzB,iCC5BL,SAAeqT,GAAtB,mC,8CAAO,WAAmC1K,GAAnC,iBAAA7H,EAAA,sEACkBC,MAAM,iCAAD,OAAkC4H,IADzD,cACC3H,EADD,gBAEcA,EAASC,OAFvB,cAECC,EAFD,yBAGEA,GAHF,4C,sBCGP,IAKaoS,GAAoBjS,YAC/B,yBAD+C,uCAE/C,WAAOsH,GAAP,SAAA7H,EAAA,sEACeuS,GAAoB1K,GADnC,mFAF+C,uDAO3C4K,GAAYhS,YAAY,CAC5BC,KAAM,OACNL,aAdmB,CACnB4R,eAAgB,GAChBK,4BAA6B,QAa7B3R,SAAU,CACRC,MADQ,SACFC,EAAQxC,GACZ,OAAO,eAAKA,KAGhByC,cAAe,SAACC,GACdA,EACGC,QAAQwR,GAAkBvR,SAAS,SAAC5C,EAAOwC,GAC1CxC,EAAMiU,4BAA8B,aAErCtR,QAAQwR,GAAkBtR,WAAW,SAAC7C,EAAOwC,GAC5CxC,EAAMiU,4BAA8B,YACpCjU,EAAM4T,eAAiBpR,EAAOM,WAE/BH,QAAQwR,GAAkBpR,UAAU,SAAC/C,EAAOwC,GAC3CxC,EAAMiU,4BAA8B,iBAK7B1R,GAAU6R,GAAUpR,QAApBT,MAEA6R,MAAf,QC7Be,cACb,IAAMrK,EAAWC,cAEXR,EADS6K,cACOC,GAEhBV,EAAiBnT,YAAYiT,IAK7B3I,EAAiD,aAJnBtK,YAClCuT,IAKI5K,EAAgB,WACpBW,EAASoK,GAAkB3K,KAU7B,OAPAwB,qBAAU,WAER,OADA5B,IACO,WACLW,EAASxH,SAEV,IAGD,qBAAK7B,UAAU,YAAf,SACGqK,EACC,cAAC,GAAD,CAAU6I,eAAgBA,IAE1B,cAAC,GAAD,CAAiBxK,cAAeA,OCvCjC,SAAemL,GAAtB,mC,8CAAO,WAAmC/K,GAAnC,iBAAA7H,EAAA,sEACkBC,MAAM,iCAAD,OAAkC4H,IADzD,cACC3H,EADD,gBAEcA,EAASC,OAFvB,cAECC,EAFD,yBAGEA,GAHF,4C,sBAMA,SAAeyS,GAAtB,qC,8CAAO,WAAmChL,EAAQkH,GAA3C,iBAAA/O,EAAA,sEACkBC,MAAM,iCAAD,OACO4H,EADP,YACiBkH,IAFxC,cACC7O,EADD,gBAIcA,EAASC,OAJvB,cAICC,EAJD,yBAKEA,GALF,4C,sBCNA,IAAM0S,GAAwB,SAACzU,GACpC,OAAOA,EAAMuF,KAAKmP,KAAKC,mBAGZpF,GAAW,SAACvP,GACvB,OAAOA,EAAMuF,KAAKmP,KAAKnP,MAGZqP,GAAa,SAAC5U,GACzB,OAAOuP,GAASvP,GAAOyJ,KAGZgG,GAAgB,SAACzP,GAC5B,OAAOuP,GAASvP,GAAOuB,OAOZoO,GAAgB,SAAC3P,GAC5B,OAAOuP,GAASvP,GAAOqN,WAGZwH,GAAoB,SAAC7U,GAChC,OAAO2P,GAAc3P,GAAO6J,QAGjB+F,GAAe,SAACc,GAAD,OAAgB,SAAC1Q,GAC3C,OAAO2P,GAAc3P,GAAOmQ,QAC1B,SAACoD,GAAD,OAAcA,EAAS9J,KAAOiH,KAC9B,KAGSZ,GAAa,SAACY,EAAYoE,GAAb,OAA0B,SAAC9U,GACnD,OAAO4P,GAAac,EAAbd,CAAyB5P,GAAO+M,QAAQoD,QAC7C,SAAC4C,GAAD,OAAYA,EAAOtJ,KAAOqL,KAC1B,KAWSC,GAAkC,SAAC/U,GAC9C,OAAOA,EAAMuF,KAAKmP,KAAKM,6BAGZC,GAAwB,SAACjV,GACpC,OAAOA,EAAMuF,KAAKmP,KAAKQ,mBAGZC,GAAuB,SAACnV,GACnC,OAAOA,EAAMuF,KAAKmP,KAAKU,kBAGZC,GAAuB,SAACrV,GACnC,OAA6C,IAAtCA,EAAMuF,KAAKmP,KAAKU,kBAGZE,GAA4B,SAACtV,GACxC,OAAOA,EAAMuF,KAAKmP,KAAKa,uBAGZC,GAA4B,SAACxV,GACxC,OAAOA,EAAMuF,KAAKmP,KAAKe,uBAGZC,GAA0B,SAAC1V,GACtC,OAAOA,EAAMuF,KAAKmP,KAAKiB,qBCjEZC,GAAoB1T,YAC/B,6BAD+C,uCAE/C,WAAOsH,GAAP,SAAA7H,EAAA,sEACe4S,GAAoB/K,GADnC,mFAF+C,uDAOpCqM,GAAoB3T,YAC/B,yBAD+C,uCAE/C,+CAAAP,EAAA,6DAAS6H,EAAT,EAASA,OAAQkH,EAAjB,EAAiBA,WAAgB3G,EAAjC,EAAiCA,SAAUpD,EAA3C,EAA2CA,SAA3C,SAC+B6N,GAAoBhL,EAAQkH,GAD3D,cACQoF,EADR,OAEQV,EAAmBD,GAAqBxO,KACxCoP,EAAYD,EAAeE,MAAK,SAAC1B,GAAD,OAAQA,GAAMc,KAE9CK,EAAwBD,GAA0B7O,KAClDgP,EAAsBD,GAAwB/O,KAEpDoD,EAASkM,GAAyBF,IAEhChM,EADEgM,EACOG,GAAyBT,EAAwB,GAC9CU,GAAuBR,EAAsB,IAX7D,kBAaSG,GAbT,4CAF+C,yDAmB3C9T,GAAe,CACnBuD,KAAM,GACNoP,kBAAmB,OACnBmB,eAAgB,GAChBd,4BAA6B,OAC7BE,kBAAmB,EACnBE,kBAAmB,EACnBG,uBAAuB,EACvBE,sBAAuB,EACvBE,oBAAqB,EACrBS,cAAc,GAGVC,GAAYjU,YAAY,CAC5BC,KAAM,OACNL,gBACAM,SAAU,CACRC,MADQ,SACFvC,EAAOwC,GACX,OAAO,eAAKR,KAGdsU,oBALQ,SAKYtW,EAAOwC,GACzBxC,EAAM8V,eAAiB,GACvB9V,EAAMgV,4BAA8B,QAGtCuB,2BAVQ,SAUmBvW,EAAOwC,GAChCxC,EAAMkV,qBAGRsB,oBAdQ,SAcYxW,EAAOwC,GACzBxC,EAAMoV,iBAAmB5S,EAAOM,QAChC9C,EAAMuV,uBAAwB,GAGhCU,yBAnBQ,SAmBiBjW,EAAOwC,GAC9BxC,EAAMuV,sBAAwB/S,EAAOM,SAGvCoT,yBAvBQ,SAuBiBlW,EAAOwC,GAC9BxC,EAAMyV,sBAAwBjT,EAAOM,SAGvCqT,uBA3BQ,SA2BenW,EAAOwC,GAC5BxC,EAAM2V,oBAAsBnT,EAAOM,UAGvCL,cAAe,SAACC,GACdA,EACGC,QAAQiT,GAAkBhT,SAAS,SAAC5C,EAAOwC,GAC1CxC,EAAM2U,kBAAoB,aAE3BhS,QAAQiT,GAAkB/S,WAAW,SAAC7C,EAAOwC,GAC5CxC,EAAM2U,kBAAoB,YAC1B3U,EAAMuF,KAAO/C,EAAOM,WAErBH,QAAQiT,GAAkB7S,UAAU,SAAC/C,EAAOwC,GAC3CxC,EAAM2U,kBAAoB,cAE3BhS,QAAQkT,GAAkBjT,SAAS,SAAC5C,EAAOwC,GAC1CxC,EAAMgV,4BAA8B,aAErCrS,QAAQkT,GAAkBhT,WAAW,SAAC7C,EAAOwC,GAC5CxC,EAAMgV,4BAA8B,YACpChV,EAAM8V,eAAiBtT,EAAOM,WAE/BH,QAAQkT,GAAkB9S,UAAU,SAAC/C,EAAOwC,GAC3CxC,EAAMgV,4BAA8B,iB,GAaxCqB,GAAUrT,QAPZT,G,GAAAA,MAEAgU,I,GADAD,oB,GACAC,4BACAC,G,GAAAA,oBACAP,G,GAAAA,yBACAC,G,GAAAA,yBACAC,G,GAAAA,uBAGaE,MAAf,QChHe,eAAyB,IAAbI,EAAY,EAAZA,SAEnBC,EAAwC,YADpBjW,YAAYgU,IAGtC,OACE,eAACvQ,EAAA,EAAD,CAAMxD,UAAU,MAAhB,UACE,cAACwD,EAAA,EAAKC,OAAN,UAAcuS,EAAmB,WAAa,eAC9C,cAACxS,EAAA,EAAKE,KAAN,UACGsS,EACG,kCACA,8BAEN,cAACxS,EAAA,EAAKG,OAAN,UACGqS,EACC,cAACzT,EAAA,EAAD,CAAQpC,QAAQ,SAAS2C,QAASiT,EAAlC,mBAIA,cAACxT,EAAA,EAAD,CAAQC,UAAQ,EAACrC,QAAQ,oBAAzB,kC,UCNK,I,OAAA,YAAyB,IAgBlC8V,EAhBqB7B,EAAY,EAAZA,SACnB/K,EAAWC,cAEXR,EAAS/I,YAAYmU,IACrBM,EAAoBzU,YAAYwU,IAChClC,EAAStS,YAAYqP,GAAWoF,EAAmBJ,IACnDM,EAAmB3U,YAAY0U,IAC/BI,EAAwB9U,YAAY6U,IACpCN,EAA8BvU,YAClCsU,IAoBF,OAhBmBD,GAAYM,IAM3BuB,EAP4D,WAA/B3B,EAOf,iBALAO,EAQE,iBAEA,oBAMlB,qBACE7U,UAAW,kBAAoBiW,EAC/BnT,QAAS,YACkB,GAArB4R,IACFrL,EAASyM,GAAoB1B,IAC7B/K,EACE8L,GAAkB,CAChBrM,SACAkH,WAAYwE,OARtB,SAcGnC,EAAOzG,WCxCC,cACb,IAAMvC,EAAWC,cAEXR,EAAS/I,YAAYmU,IACrBlL,EAAYjJ,YAAYgP,IACxBmH,EAAiBnW,YAAYoU,IAC7BY,EAAwBhV,YAAY+U,IACpCG,EAAsBlV,YAAYiV,IAClCmB,EAAmBpW,YAAY4U,IAE/BH,EAAoBzU,YAAYwU,IAChC6B,EAAkBrW,YAAYmP,GAAasF,IACzC5I,EAAoBwK,EAApBxK,OAAQS,EAAY+J,EAAZ/J,QAEVgK,EAAiB7B,GAAqB0B,EAE5C,OACE,eAAC1S,EAAA,EAAD,CAAMxD,UAAU,MAAhB,UACE,cAACwD,EAAA,EAAKC,OAAN,UAAcuF,IACd,eAACxF,EAAA,EAAKE,KAAN,WACE,6BAAKkI,IACL,uBACCS,EAAQxF,KAAI,SAACwL,EAAQ9D,GAAT,OACX,cAAC,GAAD,CAA0B6F,SAAU/B,EAAOtJ,KAA9BwF,SAGjB,cAAC/K,EAAA,EAAKG,OAAN,UACE,sBAAK3D,UAAU,8BAAf,UACE,eAACsW,GAAA,EAAD,CAAa9V,MAAO,CAAEC,KAAM,GAA5B,UACE,cAAC6V,GAAA,EAAD,CACEnW,QAAQ,UACRoW,IAAM,IAAMxB,EAAyBmB,GAChC,GAEP,cAACI,GAAA,EAAD,CACEnW,QAAQ,SACRoW,IAAM,IAAMtB,EAAuBiB,GAC9B,MAIT,cAAC,gBAAD,CAAe9V,OAAK,EAACC,GAAI,cAAgByI,EAAzC,SACE,cAACvG,EAAA,EAAD,CAAQvC,UAAU,OAAOG,QAAQ,SAAjC,oBAKDkW,EACC,cAAC,gBAAD,CAAejW,OAAK,EAACC,GAAG,eAAxB,SACE,cAACkC,EAAA,EAAD,CAAQpC,QAAQ,UAAhB,sBAGF,cAACoC,EAAA,EAAD,CACEpC,QAAQ,UACR2C,QAAS,WACPuG,EAASwM,MACTxM,EAASyM,IAAqB,IACzBK,GACH9M,EAASoM,GAAuBR,EAAsB,KAN5D,2BChEG,cACb,IACMnM,EADS6K,cACOC,GAChBvK,EAAWC,cAGXkN,EAAkC,aADdzW,YAAYgU,IAGhCgC,EAAW,WACf1M,EAAS6L,GAAkBpM,KAW7B,OARAwB,qBAAU,WAGR,OAFAyL,IAEO,WACL1M,EAASxH,SAEV,IAGD,qBAAK7B,UAAU,YAAf,SACGwW,EAAa,cAACC,GAAD,IAAmB,cAAC,GAAD,CAAiBV,SAAUA,OC9B3D,SAAeW,GAAtB,mC,8CAAO,WAAyBC,GAAzB,mBAAA1V,EAAA,sEAEGkK,EAAiB,CACrBC,OAAQ,OACRC,QAAS,CAAE,eAAgB,oBAC3BC,KAAMC,KAAKC,UAAUmL,IALpB,SAQoBzV,MAAM,4BAA6BiK,GARvD,cAQGhK,EARH,gBASgBA,EAASC,OATzB,cASGC,EATH,yBAUIA,GAVJ,2DAYI,MAZJ,2D,sBCEP,IAKeuV,GALIlL,KAAIC,OAAO,CAC5BkL,SAAUnL,KAAIG,SAASC,OAAOgL,WAAW/K,IAAI,GAAGC,IAAI,IAAIC,WACxD8K,SAAUrL,KAAIG,SAASE,IAAI,GAAGC,IAAI,OCC9B1K,GAAe,CACnBuV,SAAU,GACVE,SAAU,GACVC,uBAAwB,OACxBjK,iBAAkB,IAGPkK,GAAgBzV,YAC3B,sBAD2C,uCAE3C,WAAO0V,EAAP,wBAAAjW,EAAA,yDAAeoI,EAAf,EAAeA,SAAU4D,EAAzB,EAAyBA,kBACjBC,EAAS0J,GAAWzJ,SAAS+J,EAAM,CAAE9J,YAAY,KAC5CC,MAFb,yCAE2BJ,EAAgBC,EAAOG,MAAMC,UAFxD,uBAIqBoJ,GAAUQ,GAJ/B,YAIQ7V,EAJR,QAKWgM,MALX,yCAMWJ,EAAgB,CAAC,CAAE0C,QAAStO,EAAKgM,MAAOqC,KAAM,CAACrO,EAAK8V,WAN/D,wBAOQ9N,EAAS9H,KAPjB,iCAQSF,GART,4CAF2C,yDAcvC+V,GAAa1V,YAAY,CAC7BC,KAAM,QACNL,gBACAM,SAAU,CACRC,MADQ,SACFvC,EAAOwC,GACX,OAAO,eAAKR,KAGd+V,YALQ,SAKI/X,EAAOwC,GACjBxC,EAAMuX,SAAW/U,EAAOM,SAG1BkV,YATQ,SASIhY,EAAOwC,GACjBxC,EAAMyX,SAAWjV,EAAOM,UAG5BL,cAAe,SAACC,GACdA,EACGC,QAAQgV,GAAc/U,SAAS,SAAC5C,EAAOwC,GACtCxC,EAAM0X,uBAAyB,aAEhC/U,QAAQgV,GAAc9U,WAAW,SAAC7C,EAAOwC,GACxCxC,EAAM0X,uBAAyB,YAC/B1X,EAAMyN,iBAAmB,MAE1B9K,QAAQgV,GAAc5U,UAAU,SAAC/C,EAAOwC,GACvCxC,EAAM0X,uBAAyB,WAC/B1X,EAAMyN,iBAAmBjL,EAAOM,c,GAKWgV,GAAW9U,QAA/CT,G,GAAAA,MAAOwV,G,GAAAA,YAAaC,G,GAAAA,YAEpBF,MAAf,QC5DaG,GAAe,SAACjY,GAAD,OAAWA,EAAMkY,eAAeb,MAAME,UAErDY,GAAe,SAACnY,GAAD,OAAWA,EAAMkY,eAAeb,MAAMI,UAErDW,GAAW,SAACpY,GAAD,MAAY,CAClCuX,SAAUU,GAAajY,GACvByX,SAAUU,GAAanY,KAGZqY,GAA6B,SAACrY,GAAD,OACxCA,EAAMkY,eAAeb,MAAMK,wBAEhBY,GAAuB,SAACtY,GAAD,OAClCA,EAAMkY,eAAeb,MAAM5J,kBAEhB8K,GAAoB,SAACvY,GAAD,uBAC/BsY,GAAqBtY,GAAOmQ,QAC1B,gBAAGC,EAAH,EAAGA,KAAH,OAA6B,GAAfA,EAAKvG,QAA0B,YAAXuG,EAAK,MACvC,UAH6B,aAC/B,EAEMC,SAEKmI,GAAoB,SAACxY,GAAD,uBAC/BsY,GAAqBtY,GAAOmQ,QAC1B,gBAAGC,EAAH,EAAGA,KAAH,OAA6B,GAAfA,EAAKvG,QAA0B,YAAXuG,EAAK,MACvC,UAH6B,aAC/B,EAEMC,SCCO,kBACb,IAAMtG,EAAWC,cAEXyO,EANC,IAAI7T,gBAAgBF,cAAcG,QAMdwF,IAAI,YAEzBuN,EAAOnX,YAAY2X,IACnBb,EAAW9W,YAAYwX,IACvBR,EAAWhX,YAAY0X,IACvBT,EAAyBjX,YAAY4X,IAErCK,EAAgBjY,YAAY8X,IAC5BI,EAAgBlY,YAAY+X,IAQlC,OANAxN,qBAAU,WACR,OAAO,WACLjB,EAASxH,SAEV,IAGD,qBAAK7B,UAAU,uBAAf,SACE,eAACwD,EAAA,EAAD,CAAMxD,UAAU,MAAhB,UACE,cAACwD,EAAA,EAAKC,OAAN,UACE,iDAGF,cAACD,EAAA,EAAKE,KAAN,UACE,eAAC0M,GAAA,EAAD,WACE,eAACA,GAAA,EAAKC,MAAN,CAAYC,UAAU,WAAtB,UACE,cAACF,GAAA,EAAK8B,MAAN,uBACA,cAAC9B,GAAA,EAAKG,QAAN,CACEC,aAAa,KACbC,KAAK,OACLC,YAAY,WACZC,MAAOkG,EACP1E,eAA6B1S,IAAlBuY,EACXlH,SAAU,SAACC,GAAD,OAAW1H,EAASgO,GAAYtG,EAAMC,OAAOL,WAEzD,cAACP,GAAA,EAAKG,QAAQ6B,SAAd,CAAuB3B,KAAK,UAA5B,SACGuH,OAGL,eAAC5H,GAAA,EAAKC,MAAN,CAAYC,UAAU,WAAtB,UACE,cAACF,GAAA,EAAK8B,MAAN,uBACA,cAAC9B,GAAA,EAAKG,QAAN,CACEC,aAAa,KACbC,KAAK,WACLC,YAAY,WACZC,MAAOoG,EACP5E,eAA6B1S,IAAlBwY,EACXnH,SAAU,SAACC,GAAD,OAAW1H,EAASiO,GAAYvG,EAAMC,OAAOL,WAEzD,cAACP,GAAA,EAAKG,QAAQ6B,SAAd,CAAuB3B,KAAK,UAA5B,SACGwH,YAMT,cAACzU,EAAA,EAAKG,OAAN,CAAa3D,UAAU,SAAvB,SAC8B,cAA3BgX,EACC,cAAC,IAAD,CACE3W,GACE6X,QAAQH,GAAgBA,EAAe,4BAI3C,cAACnU,EAAD,CACE5D,UAAU,UACV4C,oBAAqB,kBAAMyG,EAAS4N,GAAcC,KAClDlU,kBAAmBgU,EACnBnU,SAAS,kBC/FhB,SAAesV,GAAtB,mC,8CAAO,WAA4BC,GAA5B,mBAAAnX,EAAA,sEAEGkK,EAAiB,CACrBC,OAAQ,OACRC,QAAS,CAAE,eAAgB,oBAC3BC,KAAMC,KAAKC,UAAU4M,IALpB,SAQoBlX,MACrB,+BACAiK,GAVC,cAQGhK,EARH,gBAYgBA,EAASC,OAZzB,cAYGC,EAZH,yBAaIA,GAbJ,2DAeI,MAfJ,2D,sBCIP,IAAMC,GAAe,CACnBuV,SAAU,GACVE,SAAU,GACVsB,0BAA2B,OAC3BtL,iBAAkB,IAGPuL,GAAmB9W,YAC9B,4BAD8C,uCAE9C,WAAO0V,EAAP,sBAAAjW,EAAA,yDAAegM,EAAf,EAAeA,kBACPC,EAAS0J,GAAWzJ,SAAS+J,EAAM,CAAE9J,YAAY,KAC5CC,MAFb,yCAE2BJ,EAAgBC,EAAOG,MAAMC,UAFxD,uBAIqB6K,GAAajB,GAJlC,YAIQ7V,EAJR,QAKWgM,MALX,yCAMWJ,EAAgB,CAAC,CAAE0C,QAAStO,EAAKgM,MAAOqC,KAAM,CAACrO,EAAK8V,WAN/D,gCAQS9V,GART,4CAF8C,yDAc1CkX,GAAgB7W,YAAY,CAChCC,KAAM,WACNL,gBACAM,SAAU,CACRC,MADQ,SACFvC,EAAOwC,GACX,OAAO,eAAKR,KAGd+V,YALQ,SAKI/X,EAAOwC,GACjBxC,EAAMuX,SAAW/U,EAAOM,SAG1BkV,YATQ,SASIhY,EAAOwC,GACjBxC,EAAMyX,SAAWjV,EAAOM,UAG5BL,cAAe,SAACC,GACdA,EACGC,QAAQqW,GAAiBpW,SAAS,SAAC5C,EAAOwC,GACzCxC,EAAM+Y,0BAA4B,aAEnCpW,QAAQqW,GAAiBnW,WAAW,SAAC7C,EAAOwC,GAC3CxC,EAAM+Y,0BAA4B,YAClC/Y,EAAMyN,iBAAmB,MAE1B9K,QAAQqW,GAAiBjW,UAAU,SAAC/C,EAAOwC,GAC1CxC,EAAM+Y,0BAA4B,WAClC/Y,EAAMyN,iBAAmBjL,EAAOM,c,GAKWmW,GAAcjW,QAAlDT,G,GAAAA,MAAOwV,G,GAAAA,YAAaC,G,GAAAA,YAEpBiB,MAAf,QC3DahB,GAAe,SAACjY,GAAD,OAAWA,EAAMkY,eAAeY,SAASvB,UAExDY,GAAe,SAACnY,GAAD,OAAWA,EAAMkY,eAAeY,SAASrB,UAExDW,GAAW,SAACpY,GAAD,MAAY,CAClCuX,SAAUU,GAAajY,GACvByX,SAAUU,GAAanY,KAGZkZ,GAAgC,SAAClZ,GAAD,OAC3CA,EAAMkY,eAAeY,SAASC,2BAEnBT,GAAuB,SAACtY,GAAD,OAClCA,EAAMkY,eAAeY,SAASrL,kBAEnB8K,GAAoB,SAACvY,GAAD,uBAC/BsY,GAAqBtY,GAAOmQ,QAC1B,gBAAGC,EAAH,EAAGA,KAAH,OAA6B,GAAfA,EAAKvG,QAA0B,YAAXuG,EAAK,MACvC,UAH6B,aAC/B,EAEMC,SAEKmI,GAAoB,SAACxY,GAAD,uBAC/BsY,GAAqBtY,GAAOmQ,QAC1B,gBAAGC,EAAH,EAAGA,KAAH,OAA6B,GAAfA,EAAKvG,QAA0B,YAAXuG,EAAK,MACvC,UAH6B,aAC/B,EAEMC,SCHO,cACb,IAAMtG,EAAWC,cAEX4N,EAAOnX,YAAY2X,IACnBb,EAAW9W,YAAYwX,IACvBR,EAAWhX,YAAY0X,IACvBY,EAA4BtY,YAAYyY,IAExCR,EAAgBjY,YAAY8X,IAC5BI,EAAgBlY,YAAY+X,IAQlC,OANAxN,qBAAU,WACR,OAAO,WACLjB,EAASxH,SAEV,IAGD,qBAAK7B,UAAU,0BAAf,SACE,eAACwD,EAAA,EAAD,CAAMxD,UAAU,MAAhB,UACE,cAACwD,EAAA,EAAKC,OAAN,UACE,wDAGF,cAACD,EAAA,EAAKE,KAAN,UACE,eAAC0M,GAAA,EAAD,WACE,eAACA,GAAA,EAAKC,MAAN,CAAYC,UAAU,WAAtB,UACE,cAACF,GAAA,EAAK8B,MAAN,uBACA,cAAC9B,GAAA,EAAKG,QAAN,CACEC,aAAa,MACbC,KAAK,OACLC,YAAY,WACZC,MAAOkG,EACP1E,eAA6B1S,IAAlBuY,EACXlH,SAAU,SAACC,GAAD,OAAW1H,EAASgO,GAAYtG,EAAMC,OAAOL,WAEzD,cAACP,GAAA,EAAKG,QAAQ6B,SAAd,CAAuB3B,KAAK,UAA5B,SACGuH,OAGL,eAAC5H,GAAA,EAAKC,MAAN,CAAYC,UAAU,WAAtB,UACE,cAACF,GAAA,EAAK8B,MAAN,uBACA,cAAC9B,GAAA,EAAKG,QAAN,CACEC,aAAa,MACbC,KAAK,WACLC,YAAY,WACZC,MAAOoG,EACP5E,eAA6B1S,IAAlBwY,EACXnH,SAAU,SAACC,GAAD,OAAW1H,EAASiO,GAAYvG,EAAMC,OAAOL,WAEzD,cAACP,GAAA,EAAKG,QAAQ6B,SAAd,CAAuB3B,KAAK,UAA5B,SACGwH,YAMT,cAACzU,EAAA,EAAKG,OAAN,CAAa3D,UAAU,SAAvB,SACiC,cAA9BqY,EACC,cAAC,IAAD,CAAUhY,GAAG,0BAEb,cAACuD,EAAD,CACE5D,UAAU,UACV4C,oBAAqB,kBAAMyG,EAASiP,GAAiBpB,KACrDlU,kBAAmBqV,EACnBxV,SAAS,mBCrFhB,SAAe4V,KAAtB,gC,8CAAO,gCAAAxX,EAAA,sEAEGkK,EAAiB,CACrBC,OAAQ,OACRC,QAAS,CAAE,eAAgB,oBAC3BC,KAAMC,KAAKC,UAAU,KALpB,SAQoBtK,MAAM,6BAA8BiK,GARxD,cAQGhK,EARH,gBASgBA,EAASC,OATzB,cASGC,EATH,yBAUIA,GAVJ,2DAYI,MAZJ,2D,sBCIP,IAAMC,GAAe,CACnBoX,wBAAyB,QAGdC,GAAoBnX,YAC/B,4BAD+C,uCAE/C,WAAOoX,EAAP,oBAAA3X,EAAA,6DAAYoI,EAAZ,EAAYA,SAAZ,SACqBoP,KADrB,cACQpX,EADR,gBAEQgI,EAAS9H,KAFjB,gCAGSF,GAHT,2CAF+C,yDAS3CwX,GAAenX,YAAY,CAC/BC,KAAM,UACNL,gBACAM,SAAU,CACRC,MADQ,SACFvC,EAAOwC,GACX,OAAO,eAAKR,MAGhBS,cAAe,SAACC,GACdA,EACGC,QAAQ0W,GAAkBzW,SAAS,SAAC5C,EAAOwC,GAC1CxC,EAAMoZ,wBAA0B,aAEjCzW,QAAQ0W,GAAkBxW,WAAW,SAAC7C,EAAOwC,GAC5CxC,EAAMoZ,wBAA0B,eAEjCzW,QAAQ0W,GAAkBtW,UAAU,SAAC/C,EAAOwC,GAC3CxC,EAAMoZ,wBAA0B,iBAKzB7W,GAAUgX,GAAavW,QAAvBT,MAEAgX,MAAf,QCzCaC,GAA8B,SAACxZ,GAAD,OACzCA,EAAMkY,eAAeuB,QAAQL,yBCQhB,cACb,IAAMrP,EAAWC,cAEXoP,EAA0B3Y,YAAY+Y,IACtCE,EAAoBjZ,YAAYV,GAQtC,OANAiL,qBAAU,WACR,OAAO,WACLjB,EAASxH,UAKX,qBAAK7B,UAAU,yBAAf,SACE,eAACwD,EAAA,EAAD,CAAMxD,UAAU,MAAhB,UACE,cAACwD,EAAA,EAAKC,OAAN,UACE,sDAEF,eAACD,EAAA,EAAKE,KAAN,WACE,wCADF,IACkBsV,EAAkBjQ,IAClC,uBACA,0CAHF,IAGoBiQ,EAAkBnC,YAEtC,cAACrT,EAAA,EAAKG,OAAN,CAAa3D,UAAU,SAAvB,SAC+B,cAA5B0Y,EACC,cAAC,IAAD,CAAUtY,OAAK,EAACC,GAAG,0BAEnB,cAACuD,EAAD,CACE5D,UAAU,UACV4C,oBAAqB,kBAAMyG,EAASsP,OACpC3V,kBAAmB0V,EACnB7V,SAAS,mBC3BR,cACb,IAAMwG,EAAWC,cAEX2P,EAA6BlZ,YACjCL,GAQF,OAN+BK,YAAYH,IAGzCyJ,EAAS9H,KAIT,qBAAKvB,UAAU,OAAOQ,MAAO,CAAE0Y,gBAAiB,SAAhD,SACiC,aAA9BD,EACC,eAAC,IAAD,WACE,cAAC,IAAD,CAAO7Y,OAAK,EAACsP,KAAK,IAAlB,0BCnBD,CACL,cAAC,IAAD,CAAOtP,OAAK,EAACsP,KAAK,eAAlB,SACE,cAACyJ,GAAD,KADmC,gBAGrC,cAAC,IAAD,CAAO/Y,OAAK,EAACsP,KAAK,eAAlB,SACE,cAAC0J,GAAD,KADmC,gBAGrC,cAAC,IAAD,CAAOhZ,OAAK,EAACsP,KAAK,iBAAlB,SACE,cAAC2J,GAAD,KADqC,kBAGvC,cAAC,IAAD,CAAOjZ,OAAK,EAACsP,KAAK,iBAAlB,SACE,cAAC4J,GAAD,KADqC,mBCXlC,CACL,cAAC,IAAD,CAAOlZ,OAAK,EAACsP,KAAK,wBAAlB,SACE,cAAC6J,GAAD,KAD4C,yBAG9C,cAAC,IAAD,CAAOnZ,OAAK,EAACsP,KAAK,2BAAlB,SACE,cAAC8J,GAAD,KAD+C,4BAGjD,cAACC,EAAD,CACErZ,OAAK,EACLsP,KAAK,0BAFP,SAKE,cAACgK,GAAD,KAFI,4BFiBA,cAAC,IAAD,CAAOtZ,OAAK,EAACsP,KAAK,IAAlB,0BAKF,cAACiK,EAAD,CACE3Z,UAAU,MACV4C,oBAAqB,kBAAMyG,EAAS9H,MACpCyB,kBAAmBiW,EACnB7V,kBAAkB,iBAClBC,mBAAmB,WACnBC,gBAAgB,2CAChBC,iBAAiB,wDG9CZ,cACb,OACE,qBAAKvD,UAAU,SAAf,SACE,eAACuK,EAAA,EAAD,CAAWC,OAAK,EAACxK,UAAU,0BAA3B,UACE,eAAC0K,EAAA,EAAD,WACE,cAACE,EAAA,EAAD,CAAKC,GAAI,EAAT,SACE,eAACtK,EAAA,EAAD,CAAKP,UAAU,iCAAf,UACE,yCACA,cAACO,EAAA,EAAIG,KAAL,sBACA,cAACH,EAAA,EAAIG,KAAL,oBACA,cAACH,EAAA,EAAIG,KAAL,mBACA,cAACH,EAAA,EAAIG,KAAL,wBAGJ,cAACkK,EAAA,EAAD,CAAKC,GAAI,EAAT,SACE,eAACtK,EAAA,EAAD,CAAKP,UAAU,iCAAf,UACE,sCACA,cAACO,EAAA,EAAIG,KAAL,mBACA,cAACH,EAAA,EAAIG,KAAL,mBACA,cAACH,EAAA,EAAIG,KAAL,4BAGJ,cAACkK,EAAA,EAAD,CAAKC,GAAI,EAAT,SACE,eAACtK,EAAA,EAAD,CAAKP,UAAU,iCAAf,UACE,4CACA,cAACO,EAAA,EAAIG,KAAL,qBACA,cAACH,EAAA,EAAIG,KAAL,4BAIN,oBAAIF,MAAO,CAAE0Y,gBAAiB,WAC9B,gCACE,eAACxO,EAAA,EAAD,WACE,cAACE,EAAA,EAAD,CAAKC,GAAI,EAAT,mJAKA,cAACD,EAAA,EAAD,CAAKC,GAAI,EAAT,0C,OClCG,SAAS+O,KACtB,OACE,sBAAK5Z,UAAU,MAAf,UACE,cAACyD,EAAD,IACA,cAACoW,GAAD,IACA,cAAClW,GAAD,O,sBCGSmW,GAPKC,aAAgB,CAClCjV,OAAQkV,GACRlL,OAAQmL,GACRhH,KAAMiH,GACNlG,KAAMmG,KCCOC,GANeL,aAAgB,CAC5CpD,MAAO0D,GACPjC,SAAUkC,GACVvB,QAASwB,KCKIC,GARDC,YAAe,CAC3BxM,QAAS,CACPpJ,KAAMiV,GACNtC,eAAgB4C,GAChB7a,cAAemb,K,OCDnBC,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,IAAD,CAAUL,MAAOA,GAAjB,SACE,cAAC,iBAAD,UACE,cAACZ,GAAD,UAINkB,SAASC,eAAe,W","file":"static/js/main.2677e4ae.chunk.js","sourcesContent":["export const sGetAuthenticatedUser = (state) =>\r\n  state.authenticated.authenticated;\r\n\r\nexport const sGetIsAuthenticated = (state) =>\r\n  state.authenticated.authenticated !== null &&\r\n  state.authenticated.authenticated !== undefined;\r\n\r\nexport const sGetAuthenticatedRequestStatus = (state) =>\r\n  state.authenticated.getAuthenticatedRequestStatus;\r\n\r\nexport const sGetHasAuthenticatedBefore = (state) =>\r\n  state.authenticated.firstTime == false;\r\n","import { Navbar, NavDropdown, Nav } from \"react-bootstrap\";\r\nimport { LinkContainer } from \"react-router-bootstrap\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { sGetIsAuthenticated } from \"../../services/authenticatedSlice/selectors.js\";\r\nimport React from \"react\";\r\n\r\nexport default function () {\r\n  const isAuthenticated = useSelector(sGetIsAuthenticated);\r\n\r\n  return (\r\n    <div className=\"header\">\r\n      <Navbar bg=\"dark\" variant=\"dark\">\r\n        <LinkContainer exact to=\"/\">\r\n          <Navbar.Brand>\r\n            <h3>Quizzer</h3>\r\n          </Navbar.Brand>\r\n        </LinkContainer>\r\n        <Nav className=\"d-none d-md-inline-flex\" style={{ flex: 1 }}>\r\n          <LinkContainer exact to=\"/\">\r\n            <Nav.Link>Home</Nav.Link>\r\n          </LinkContainer>\r\n          <LinkContainer to=\"/quiz/browse\">\r\n            <Nav.Link>Browse</Nav.Link>\r\n          </LinkContainer>\r\n          <LinkContainer to=\"/quiz/create\">\r\n            <Nav.Link>Create</Nav.Link>\r\n          </LinkContainer>\r\n          {isAuthenticated ? (\r\n            <LinkContainer className=\"ml-auto\" to=\"/authentication/account\">\r\n              <Nav.Link>Account</Nav.Link>\r\n            </LinkContainer>\r\n          ) : (\r\n            <React.Fragment>\r\n              <LinkContainer className=\"ml-auto\" to=\"/authentication/login\">\r\n                <Nav.Link>Login</Nav.Link>\r\n              </LinkContainer>\r\n              <LinkContainer to=\"/authentication/register\">\r\n                <Nav.Link>Register</Nav.Link>\r\n              </LinkContainer>\r\n            </React.Fragment>\r\n          )}\r\n        </Nav>\r\n\r\n        <Nav className=\"ml-auto d-md-none\">\r\n          <NavDropdown title=\"Menu\">\r\n            <LinkContainer exact to=\"/\">\r\n              <NavDropdown.Item>Home</NavDropdown.Item>\r\n            </LinkContainer>\r\n            <LinkContainer to=\"/quiz/browse\">\r\n              <NavDropdown.Item>Browse</NavDropdown.Item>\r\n            </LinkContainer>\r\n            <LinkContainer to=\"/quiz/create\">\r\n              <NavDropdown.Item>Create</NavDropdown.Item>\r\n            </LinkContainer>\r\n            <NavDropdown.Divider />\r\n            {isAuthenticated ? (\r\n              <LinkContainer to=\"/authentication/account\">\r\n                <NavDropdown.Item>Account</NavDropdown.Item>\r\n              </LinkContainer>\r\n            ) : (\r\n              <React.Fragment>\r\n                <LinkContainer to=\"/authentication/login\">\r\n                  <NavDropdown.Item>Login</NavDropdown.Item>\r\n                </LinkContainer>\r\n                <LinkContainer to=\"/authentication/register\">\r\n                  <NavDropdown.Item>Register</NavDropdown.Item>\r\n                </LinkContainer>\r\n              </React.Fragment>\r\n            )}\r\n          </NavDropdown>\r\n        </Nav>\r\n      </Navbar>\r\n    </div>\r\n  );\r\n}\r\n","export async function fetchAuthenticated() {\r\n  const response = await fetch(\"/api/authenticated\");\r\n  const data = await response.json();\r\n  return data.authenticated;\r\n}\r\n","import { createSlice, createAsyncThunk } from \"@reduxjs/toolkit\";\r\nimport { fetchAuthenticated } from \"./api.js\";\r\n\r\nconst initialState = {\r\n  authenticated: null,\r\n  getAuthenticatedRequestStatus: \"idle\",\r\n  firstTime: true,\r\n};\r\n\r\nexport const getAuthenticated = createAsyncThunk(\r\n  \"authenticated/getAuthenticated\",\r\n  async () => {\r\n    const data = await fetchAuthenticated();\r\n    return data;\r\n  }\r\n);\r\n\r\nconst authenticatedSlice = createSlice({\r\n  name: \"authenticated\",\r\n  initialState,\r\n  reducers: {\r\n    reset(state, action) {\r\n      return { ...initialState };\r\n    },\r\n  },\r\n  extraReducers: (builder) => {\r\n    builder\r\n      .addCase(getAuthenticated.pending, (state, action) => {\r\n        state.getAuthenticatedRequestStatus = \"pending\";\r\n        state.authenticated = null;\r\n        state.firstTime = false;\r\n      })\r\n      .addCase(getAuthenticated.fulfilled, (state, action) => {\r\n        state.getAuthenticatedRequestStatus = \"fulfilled\";\r\n        state.authenticated = action.payload;\r\n      })\r\n      .addCase(getAuthenticated.rejected, (state, action) => {\r\n        state.getAuthenticatedRequestStatus = \"rejected\";\r\n        state.authenticated = null;\r\n      });\r\n  },\r\n});\r\n\r\nexport const { reset } = authenticatedSlice.actions;\r\n\r\nexport default authenticatedSlice.reducer;\r\n","import { Button, Spinner } from \"react-bootstrap\";\r\n\r\nexport default function () {\r\n  return (\r\n    <Button variant=\"secondary\" disabled>\r\n      <Spinner size=\"sm\" animation=\"border\" />\r\n    </Button>\r\n  );\r\n}\r\n","import { Button } from \"react-bootstrap\";\r\n\r\nexport default function ({ initiatePostRequest, idleText }) {\r\n  return (\r\n    <Button variant=\"success\" onClick={initiatePostRequest}>\r\n      {idleText}\r\n    </Button>\r\n  );\r\n}\r\n","import { Button } from \"react-bootstrap\";\r\n\r\nexport default function ({ initiatePostRequest }) {\r\n  return (\r\n    <Button variant=\"danger\" onClick={initiatePostRequest}>\r\n      Retry\r\n    </Button>\r\n  );\r\n}\r\n","import LoadingButton from \"./components/LoadingButton\";\r\nimport PostButton from \"./components/PostButton\";\r\nimport RetryButton from \"./components/RetryButton\";\r\n\r\nexport default function (props) {\r\n  const { className, initiatePostRequest, postRequestStatus, idleText } = props;\r\n\r\n  return (\r\n    <div className={className + \" d-inline\"}>\r\n      {postRequestStatus == \"idle\" ? (\r\n        <PostButton\r\n          initiatePostRequest={initiatePostRequest}\r\n          idleText={idleText}\r\n        />\r\n      ) : postRequestStatus == \"pending\" ? (\r\n        <LoadingButton />\r\n      ) : postRequestStatus == \"fulfilled\" ? (\r\n        \"Done\"\r\n      ) : postRequestStatus == \"rejected\" ? (\r\n        <RetryButton initiatePostRequest={initiatePostRequest} />\r\n      ) : (\r\n        \"Default\"\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","import { Card } from \"react-bootstrap\";\r\nimport PostRequestButton from \"../PostRequestButton\";\r\n\r\nexport default function (props) {\r\n  const {\r\n    className,\r\n    initiatePostRequest,\r\n    postRequestStatus,\r\n    pendingHeaderText,\r\n    rejectedHeaderText,\r\n    pendingBodyText,\r\n    rejectedBodyText,\r\n  } = props;\r\n\r\n  return (\r\n    <div className={className}>\r\n      <Card>\r\n        <Card.Header>\r\n          <h4>\r\n            {postRequestStatus == \"rejected\"\r\n              ? rejectedHeaderText\r\n              : pendingHeaderText}\r\n          </h4>\r\n        </Card.Header>\r\n        <Card.Body>\r\n          {postRequestStatus == \"rejected\" ? rejectedBodyText : pendingBodyText}\r\n        </Card.Body>\r\n        <Card.Footer className=\"d-flex\">\r\n          <PostRequestButton\r\n            className=\"ml-auto\"\r\n            initiatePostRequest={initiatePostRequest}\r\n            postRequestStatus={postRequestStatus}\r\n            idleText=\"Default\"\r\n          />\r\n        </Card.Footer>\r\n      </Card>\r\n    </div>\r\n  );\r\n}\r\n","import { Route, Redirect, useLocation, useHistory } from \"react-router-dom\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { sGetIsAuthenticated } from \"../../services/authenticatedSlice/selectors.js\";\r\n\r\nfunction useQuery() {\r\n  return new URLSearchParams(useLocation().search);\r\n}\r\n\r\nexport default function ({ children, ...rest }) {\r\n  const location = useLocation();\r\n  const query = useQuery();\r\n  query.set(\"redirect\", location.pathname);\r\n\r\n  const isAuthenticated = useSelector(sGetIsAuthenticated);\r\n\r\n  return (\r\n    <Route {...rest}>\r\n      {isAuthenticated ? (\r\n        children\r\n      ) : (\r\n        <Redirect exact to={\"/authentication/login?\" + query.toString()} />\r\n      )}\r\n    </Route>\r\n  );\r\n}\r\n","export async function fetchQuizCount() {\r\n  const response = await fetch(\"/api/quiz/browse/quizCount\");\r\n  const data = await response.json();\r\n  return data.count;\r\n}\r\n\r\nexport async function fetchSimplifiedQuizzes(pageIndex, pageSize) {\r\n  const response = await fetch(\r\n    `/api/quiz/browse/simplifiedQuizzes/${pageIndex}/${pageSize}`\r\n  );\r\n  const data = await response.json();\r\n  return data;\r\n}\r\n","import { getTotalPages, getRowsFromQuizzes } from \"../grid.js\";\r\n\r\nexport const sGetQuizCount = (state) => state.quiz.browse.quizCount;\r\n\r\nexport const sGetQuizCountRequestStatus = (state) =>\r\n  state.quiz.browse.quizCountRequestStatus;\r\n\r\nexport const sGetSimplifiedQuizzes = (state) =>\r\n  state.quiz.browse.simplifiedQuizzes;\r\n\r\nexport const sGetSimplifiedQuizzesRequestStatus = (state) =>\r\n  state.quiz.browse.simplifiedQuizzesRequestStatus;\r\n\r\nexport const sGetCurrentPage = (state) => state.quiz.browse.currentPage;\r\n\r\nexport const sGetTotalPages = (cardsPerRow, totalRows) => (state) =>\r\n  getTotalPages(cardsPerRow, totalRows, sGetQuizCount(state));\r\n\r\nexport const sGetRows = (cardsPerRow, totalRows) => (state) =>\r\n  getRowsFromQuizzes(cardsPerRow, totalRows, sGetSimplifiedQuizzes(state));\r\n","export function getTotalPages(cardsPerRow, totalRows, totalQuizzes) {\r\n  let quizzesPerPage = cardsPerRow * totalRows;\r\n  return Math.ceil(totalQuizzes / quizzesPerPage);\r\n}\r\n\r\nexport function getRowsFromQuizzes(cardsPerRow, totalRows, quizzes) {\r\n  let rowsData = [];\r\n  for (let rowIndex = 0; rowIndex < totalRows; rowIndex++) {\r\n    rowsData[rowIndex] = [];\r\n    let rowStartingCardIndex = rowIndex * cardsPerRow;\r\n    let startingCardIndex = rowStartingCardIndex;\r\n    for (\r\n      let cardIndex = startingCardIndex;\r\n      cardIndex < startingCardIndex + cardsPerRow;\r\n      cardIndex++\r\n    ) {\r\n      let cardData = quizzes[cardIndex];\r\n      if (cardData) rowsData[rowIndex].push(cardData);\r\n    }\r\n  }\r\n  return rowsData;\r\n}\r\n","import { createSlice, createAsyncThunk } from \"@reduxjs/toolkit\";\r\nimport { fetchQuizCount, fetchSimplifiedQuizzes } from \"../api.js\";\r\nimport { sGetCurrentPage } from \"./selectors.js\";\r\n\r\nconst initialState = {\r\n  quizCount: 0,\r\n  simplifiedQuizzes: [],\r\n  quizCountRequestStatus: \"idle\",\r\n  simplifiedQuizzesRequestStatus: \"idle\",\r\n  currentPage: 1,\r\n};\r\n\r\nexport const getQuizCount = createAsyncThunk(\r\n  \"browse/getQuizCount\",\r\n  async () => {\r\n    return await fetchQuizCount();\r\n  }\r\n);\r\n\r\nexport const getSimplifiedQuizzes = createAsyncThunk(\r\n  \"browse/getSimplifiedQuizzes\",\r\n  async (pageSize, { getState }) => {\r\n    const pageNumber = sGetCurrentPage(getState());\r\n    const pages = await fetchSimplifiedQuizzes(pageNumber - 1, pageSize);\r\n    return pages;\r\n  }\r\n);\r\n\r\nconst browseSlice = createSlice({\r\n  name: \"browse\",\r\n  initialState,\r\n  reducers: {\r\n    reset(state, action) {\r\n      return { ...initialState };\r\n    },\r\n\r\n    setCurrentPage(state, action) {\r\n      state.currentPage = action.payload;\r\n    },\r\n  },\r\n  extraReducers: (builder) => {\r\n    builder\r\n      .addCase(getQuizCount.pending, (state, action) => {\r\n        state.quizCountRequestStatus = \"pending\";\r\n      })\r\n      .addCase(getQuizCount.fulfilled, (state, action) => {\r\n        state.quizCountRequestStatus = \"fulfilled\";\r\n        state.quizCount = action.payload;\r\n      })\r\n      .addCase(getQuizCount.rejected, (state, action) => {\r\n        state.quizCountRequestStatus = \"rejected\";\r\n      })\r\n      .addCase(getSimplifiedQuizzes.pending, (state, action) => {\r\n        state.simplifiedQuizzesRequestStatus = \"pending\";\r\n      })\r\n      .addCase(getSimplifiedQuizzes.fulfilled, (state, action) => {\r\n        state.simplifiedQuizzesRequestStatus = \"fulfilled\";\r\n        state.simplifiedQuizzes = action.payload;\r\n      })\r\n      .addCase(getSimplifiedQuizzes.rejected, (state, action) => {\r\n        state.simplifiedQuizzesRequestStatus = \"rejected\";\r\n      });\r\n  },\r\n});\r\n\r\nexport const { reset, setCurrentPage } = browseSlice.actions;\r\n\r\nexport default browseSlice.reducer;\r\n","import { Pagination } from \"react-bootstrap\";\r\n\r\nexport const getPagesToGenerate = (\r\n  totalPages,\r\n  currentPage,\r\n  pageChangeCallback\r\n) => {\r\n  let pagesToGenerate = [];\r\n  if (totalPages <= 5) {\r\n    for (let counter = 1; counter < totalPages + 1; counter++) {\r\n      pagesToGenerate.push(counter);\r\n    }\r\n  } else {\r\n    for (let counter = currentPage - 2; counter < currentPage + 3; counter++) {\r\n      if (counter > 0 && counter <= totalPages) {\r\n        pagesToGenerate.push(counter);\r\n      }\r\n    }\r\n  }\r\n  return pagesToGenerate;\r\n};\r\n\r\nexport const generatePages = (\r\n  totalPages,\r\n  currentPage,\r\n  pageChangeCallback,\r\n  pagesToGenerate\r\n) => {\r\n  return pagesToGenerate.map((index) => (\r\n    <Pagination.Item\r\n      key={index}\r\n      active={index == currentPage}\r\n      onClick={() => pageChangeCallback(index)}\r\n    >\r\n      {index}\r\n    </Pagination.Item>\r\n  ));\r\n};\r\n","import { getPagesToGenerate, generatePages } from \"../pages.js\";\r\nimport { Pagination } from \"react-bootstrap\";\r\n\r\nfunction generateMinimalPages(props) {\r\n  let { totalPages, currentPage, pageChangeCallback } = props;\r\n  return generatePages(\r\n    totalPages,\r\n    currentPage,\r\n    pageChangeCallback,\r\n    getPagesToGenerate(totalPages, currentPage, pageChangeCallback)\r\n  );\r\n}\r\n\r\nexport default function MinimalPagination(props) {\r\n  return <Pagination>{generateMinimalPages(props)}</Pagination>;\r\n}\r\n","import { getPagesToGenerate, generatePages } from \"../pages.js\";\r\nimport { Pagination } from \"react-bootstrap\";\r\n\r\nfunction generatePrevPagination(props) {\r\n  let { currentPage, pageChangeCallback } = props;\r\n\r\n  let newPageValue = currentPage - 1;\r\n  if (newPageValue <= 1) {\r\n    newPageValue = 1;\r\n  }\r\n  return <Pagination.Prev onClick={() => pageChangeCallback(newPageValue)} />;\r\n}\r\n\r\nfunction generateCollapsedPages(props) {\r\n  let { totalPages, currentPage, pageChangeCallback } = props;\r\n\r\n  return generatePages(\r\n    totalPages,\r\n    currentPage,\r\n    pageChangeCallback,\r\n    getPagesToGenerate(totalPages, currentPage, pageChangeCallback)\r\n  );\r\n}\r\n\r\nfunction generateNextPagination(props) {\r\n  let { totalPages, currentPage, pageChangeCallback } = props;\r\n\r\n  let newPageValue = currentPage + 1;\r\n  if (newPageValue >= totalPages) {\r\n    newPageValue = totalPages;\r\n  }\r\n  return <Pagination.Next onClick={() => pageChangeCallback(newPageValue)} />;\r\n}\r\n\r\nexport default function CollapsedPagination(props) {\r\n  return (\r\n    <Pagination>\r\n      {generatePrevPagination(props)}\r\n      {generateCollapsedPages(props)}\r\n      {generateNextPagination(props)}\r\n    </Pagination>\r\n  );\r\n}\r\n","import { getPagesToGenerate, generatePages } from \"../pages.js\";\r\nimport { Pagination } from \"react-bootstrap\";\r\n\r\nfunction shouldGenerateLeftEllipsis(totalPages, currentPage) {\r\n  return currentPage > 3;\r\n}\r\n\r\nfunction shouldGenerateRightEllipsis(totalPages, currentPage) {\r\n  return currentPage < totalPages - 2;\r\n}\r\n\r\nfunction getLeftEllipsisPageValue(totalPages, currentPage) {\r\n  let pageValue = currentPage - 4;\r\n  if (pageValue <= 1) {\r\n    return 1;\r\n  } else {\r\n    return pageValue;\r\n  }\r\n}\r\n\r\nfunction getRightEllipsisPageValue(totalPages, currentPage) {\r\n  let pageValue = currentPage + 4;\r\n  if (pageValue >= totalPages) {\r\n    return totalPages;\r\n  } else {\r\n    return pageValue;\r\n  }\r\n}\r\n\r\nfunction generateFirstPagination(props) {\r\n  let { pageChangeCallback } = props;\r\n\r\n  return <Pagination.First onClick={() => pageChangeCallback(1)} />;\r\n}\r\n\r\nfunction generatePrevPagination(props) {\r\n  let { currentPage, pageChangeCallback } = props;\r\n\r\n  let newPageValue = currentPage - 1;\r\n  if (newPageValue <= 1) {\r\n    newPageValue = 1;\r\n  }\r\n  return <Pagination.Prev onClick={() => pageChangeCallback(newPageValue)} />;\r\n}\r\n\r\nfunction generateLeftEllipse(props) {\r\n  let { totalPages, currentPage, pageChangeCallback } = props;\r\n\r\n  return (\r\n    shouldGenerateLeftEllipsis(totalPages, currentPage) && (\r\n      <Pagination.Ellipsis\r\n        onClick={() =>\r\n          pageChangeCallback(getLeftEllipsisPageValue(totalPages, currentPage))\r\n        }\r\n      />\r\n    )\r\n  );\r\n}\r\n\r\nfunction generateExpandedPages(props) {\r\n  let { totalPages, currentPage, pageChangeCallback } = props;\r\n  let pagesToGenerate = getPagesToGenerate(totalPages, currentPage);\r\n  pagesToGenerate.shift();\r\n  pagesToGenerate.pop();\r\n  return generatePages(\r\n    totalPages,\r\n    currentPage,\r\n    pageChangeCallback,\r\n    pagesToGenerate\r\n  );\r\n}\r\n\r\nfunction generateRightEllipse(props) {\r\n  let { totalPages, currentPage, pageChangeCallback } = props;\r\n\r\n  return (\r\n    shouldGenerateRightEllipsis(totalPages, currentPage) && (\r\n      <Pagination.Ellipsis\r\n        onClick={() =>\r\n          pageChangeCallback(getRightEllipsisPageValue(totalPages, currentPage))\r\n        }\r\n      />\r\n    )\r\n  );\r\n}\r\n\r\nfunction generateNextPagination(props) {\r\n  let { totalPages, currentPage, pageChangeCallback } = props;\r\n\r\n  let newPageValue = currentPage + 1;\r\n  if (newPageValue >= totalPages) {\r\n    newPageValue = totalPages;\r\n  }\r\n  return <Pagination.Next onClick={() => pageChangeCallback(newPageValue)} />;\r\n}\r\n\r\nfunction generateLastPagination(props) {\r\n  let { totalPages, pageChangeCallback } = props;\r\n\r\n  return <Pagination.Last onClick={() => pageChangeCallback(totalPages)} />;\r\n}\r\n\r\nexport default function ExpandedPagination(props) {\r\n  let { totalPages, currentPage, pageChangeCallback } = props;\r\n\r\n  return (\r\n    <Pagination>\r\n      {generateFirstPagination(props)}\r\n      {generatePrevPagination(props)}\r\n      <Pagination.Item\r\n        active={1 === currentPage}\r\n        onClick={() => pageChangeCallback(1)}\r\n      >\r\n        1\r\n      </Pagination.Item>\r\n      {generateLeftEllipse(props)}\r\n      {generateExpandedPages(props)}\r\n      {generateRightEllipse(props)}\r\n      <Pagination.Item\r\n        active={totalPages === currentPage}\r\n        onClick={() => pageChangeCallback(totalPages)}\r\n      >\r\n        {totalPages}\r\n      </Pagination.Item>\r\n      {generateNextPagination(props)}\r\n      {generateLastPagination(props)}\r\n    </Pagination>\r\n  );\r\n}\r\n","import MinimalPagination from \"./components/MinimalPagination\";\r\nimport CollapsedPagination from \"./components/CollapsedPagination\";\r\nimport ExpandedPagination from \"./components/ExpandedPagination\";\r\n\r\nexport default function (props) {\r\n  let { currentPage, totalPages, pageChangeCallback } = props;\r\n\r\n  return (\r\n    <div className=\"paginator d-flex justify-content-center\">\r\n      {totalPages <= 3 ? (\r\n        <MinimalPagination\r\n          currentPage={currentPage}\r\n          totalPages={totalPages}\r\n          pageChangeCallback={pageChangeCallback}\r\n        />\r\n      ) : totalPages <= 5 ? (\r\n        <CollapsedPagination\r\n          currentPage={currentPage}\r\n          totalPages={totalPages}\r\n          pageChangeCallback={pageChangeCallback}\r\n        />\r\n      ) : (\r\n        <ExpandedPagination\r\n          currentPage={currentPage}\r\n          totalPages={totalPages}\r\n          pageChangeCallback={pageChangeCallback}\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","import { Card, Button } from \"react-bootstrap\";\r\nimport { useSelector } from \"react-redux\";\r\nimport {\r\n  sGetQuizCountRequestStatus,\r\n  sGetSimplifiedQuizzesRequestStatus,\r\n} from \"../../services/browseSlice/selectors.js\";\r\n\r\nexport default function ({ loadResources }) {\r\n  const quizCountRequestStatus = useSelector(sGetQuizCountRequestStatus);\r\n  const simplifiedQuizzesRequestStatus = useSelector(\r\n    sGetSimplifiedQuizzesRequestStatus\r\n  );\r\n\r\n  const resourcesFailedToLoad =\r\n    quizCountRequestStatus == \"rejected\" ||\r\n    simplifiedQuizzesRequestStatus == \"rejected\";\r\n\r\n  return (\r\n    <div className=\"quiz-card h-100\">\r\n      <Card className=\"h-100\">\r\n        <Card.Body>\r\n          <Card.Title>\r\n            {resourcesFailedToLoad ? \"Uh oh...\" : \"Loading...\"}\r\n          </Card.Title>\r\n          <Card.Text>\r\n            {resourcesFailedToLoad\r\n              ? \"We were unable to load the quizzes\"\r\n              : \"We are loading your quizzes!\"}\r\n          </Card.Text>\r\n        </Card.Body>\r\n        <Card.Footer>\r\n          {resourcesFailedToLoad ? (\r\n            <Button variant=\"danger\" onClick={loadResources}>\r\n              Retry\r\n            </Button>\r\n          ) : (\r\n            <Button disabled variant=\"outline-secondary\">\r\n              Please Wait...\r\n            </Button>\r\n          )}\r\n        </Card.Footer>\r\n      </Card>\r\n    </div>\r\n  );\r\n}\r\n","import { Card, Button } from \"react-bootstrap\";\r\nimport { LinkContainer } from \"react-router-bootstrap\";\r\n\r\nexport default function ({ quiz }) {\r\n  const quizId = quiz._id;\r\n  const quizTitle = quiz.title;\r\n  const quizTrimmedDescription =\r\n    quiz.description.length > 100\r\n      ? quiz.description.substring(0, 100) + \"...\"\r\n      : quiz.description;\r\n\r\n  return (\r\n    <div className=\"quiz-card h-100\">\r\n      <Card className=\"h-100\">\r\n        <Card.Body>\r\n          <Card.Title>{quizTitle}</Card.Title>\r\n          <Card.Text>{quizTrimmedDescription}</Card.Text>\r\n        </Card.Body>\r\n        <Card.Footer>\r\n          <LinkContainer to={\"/quiz/open/\" + quizId}>\r\n            <Button className=\"mr-2\" variant=\"outline-success\">\r\n              Open\r\n            </Button>\r\n          </LinkContainer>\r\n        </Card.Footer>\r\n      </Card>\r\n    </div>\r\n  );\r\n}\r\n","import { useLocation, useHistory } from \"react-router-dom\";\r\nimport { Container, Row, Col } from \"react-bootstrap\";\r\nimport { useEffect } from \"react\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport {\r\n  getQuizCount,\r\n  getSimplifiedQuizzes,\r\n  reset,\r\n  setCurrentPage,\r\n} from \"./services/browseSlice\";\r\nimport {\r\n  sGetCurrentPage,\r\n  sGetQuizCountRequestStatus,\r\n  sGetSimplifiedQuizzesRequestStatus,\r\n  sGetRows,\r\n  sGetTotalPages,\r\n} from \"./services/browseSlice/selectors.js\";\r\nimport Paginator from \"../../../../components/Paginator\";\r\nimport LoadingQuizCard from \"./components/LoadingQuizCard\";\r\nimport QuizCard from \"./components/QuizCard\";\r\n\r\nconst cardsPerRow = 3;\r\nconst totalRows = 4;\r\n\r\nfunction useQuery() {\r\n  return new URLSearchParams(useLocation().search);\r\n}\r\n\r\nexport default function () {\r\n  const dispatch = useDispatch();\r\n  const location = useLocation();\r\n  const query = useQuery();\r\n  const history = useHistory();\r\n\r\n  const currentPage = useSelector(sGetCurrentPage);\r\n  const queriedPage = parseInt(query.get(\"page\")) || 1;\r\n  if (queriedPage !== currentPage) dispatch(setCurrentPage(queriedPage));\r\n\r\n  const totalPages = useSelector(sGetTotalPages(cardsPerRow, totalRows));\r\n  const rows = useSelector(sGetRows(cardsPerRow, totalRows));\r\n\r\n  const quizCountRequestStatus = useSelector(sGetQuizCountRequestStatus);\r\n  const simplifiedQuizzesRequestStatus = useSelector(\r\n    sGetSimplifiedQuizzesRequestStatus\r\n  );\r\n  const resourcesLoaded =\r\n    quizCountRequestStatus == \"fulfilled\" &&\r\n    simplifiedQuizzesRequestStatus == \"fulfilled\";\r\n\r\n  const loadResources = () => {\r\n    dispatch(getQuizCount());\r\n    dispatch(getSimplifiedQuizzes(cardsPerRow * totalRows));\r\n  };\r\n\r\n  useEffect(() => {\r\n    loadResources();\r\n  }, [currentPage]);\r\n\r\n  useEffect(() => {\r\n    return function cleanup() {\r\n      dispatch(reset());\r\n    };\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"quiz-browse\">\r\n      <Container fluid>\r\n        {!resourcesLoaded ? (\r\n          <Row>\r\n            <Col className=\"my-2\">\r\n              <LoadingQuizCard loadResources={loadResources} />\r\n            </Col>\r\n          </Row>\r\n        ) : (\r\n          rows.map((row, rowIndex) => (\r\n            <Row key={rowIndex}>\r\n              {row.map((quiz, quizIndex) => (\r\n                <Col className=\"my-2\" md={12 / cardsPerRow} key={quizIndex}>\r\n                  <QuizCard quiz={quiz} />\r\n                </Col>\r\n              ))}\r\n            </Row>\r\n          ))\r\n        )}\r\n      </Container>\r\n      <Paginator\r\n        totalPages={totalPages}\r\n        currentPage={currentPage}\r\n        pageChangeCallback={(newPage) => {\r\n          query.set(\"page\", newPage);\r\n          history.push(location.pathname + \"?\" + query.toString());\r\n        }}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n","export async function postQuiz(quiz) {\r\n  const requestOptions = {\r\n    method: \"POST\",\r\n    headers: { \"Content-Type\": \"application/json\" },\r\n    body: JSON.stringify(quiz),\r\n  };\r\n\r\n  const response = await fetch(\"/api/quiz/create/postQuiz\", requestOptions);\r\n  const data = await response.json();\r\n  return data;\r\n}\r\n","import Joi from \"joi\";\r\n\r\nconst choiceSchema = Joi.object({\r\n  prompt: Joi.string().trim().min(1).max(200).required(),\r\n  correct: Joi.boolean().required(),\r\n});\r\n\r\nconst questionSchema = Joi.object({\r\n  prompt: Joi.string().trim().min(10).max(200).required(),\r\n  choices: Joi.array()\r\n    .items(choiceSchema)\r\n    .has({\r\n      prompt: Joi.string().trim().min(1).max(200).required(),\r\n      correct: Joi.boolean().valid(false).required(),\r\n    })\r\n    .has({\r\n      prompt: Joi.string().trim().min(1).max(200).required(),\r\n      correct: Joi.boolean().valid(true).required(),\r\n    })\r\n    .required(),\r\n});\r\n\r\nconst quizSchema = Joi.object({\r\n  title: Joi.string().trim().min(10).max(50).required(),\r\n  description: Joi.string().trim().min(10).max(200).required(),\r\n  questions: Joi.array().items(questionSchema).min(2).required(),\r\n});\r\n\r\nexport default quizSchema;\r\n","import { createSlice, createAsyncThunk } from \"@reduxjs/toolkit\";\r\nimport { postQuiz } from \"../api.js\";\r\nimport quizSchema from \"../quizSchema\";\r\n\r\nconst initialState = {\r\n  quiz: {\r\n    title: \"\",\r\n    description: \"\",\r\n    questions: [],\r\n  },\r\n  activeQuestionIndex: -1,\r\n  postQuizRequestStatus: \"idle\",\r\n  postedQuizId: \"\",\r\n  validationErrors: [],\r\n};\r\n\r\nexport const postQuizCreateForm = createAsyncThunk(\r\n  \"create/postQuizCreateForm\",\r\n  async (quiz, { dispatch, rejectWithValue }) => {\r\n    const result = quizSchema.validate(quiz, { abortEarly: false });\r\n    if (result.error) return rejectWithValue(result.error.details);\r\n\r\n    const data = await postQuiz(quiz);\r\n    dispatch(resetForm());\r\n    return data;\r\n  }\r\n);\r\n\r\nconst createQuizSlice = createSlice({\r\n  name: \"create\",\r\n  initialState,\r\n  reducers: {\r\n    reset(state, action) {\r\n      return { ...initialState };\r\n    },\r\n\r\n    resetForm(state, action) {\r\n      state.quiz = {\r\n        title: \"\",\r\n        description: \"\",\r\n        questions: [],\r\n      };\r\n    },\r\n\r\n    resetPostQuizRequest(state, action) {\r\n      state.postQuizRequestStatus = \"idle\";\r\n      state.postedQuizId = \"\";\r\n    },\r\n\r\n    setValidationErrors(state, action) {\r\n      state.validationErrors = action.payload;\r\n    },\r\n\r\n    setQuizTitle(state, action) {\r\n      state.quiz.title = action.payload;\r\n    },\r\n\r\n    setQuizDescription(state, action) {\r\n      state.quiz.description = action.payload;\r\n    },\r\n\r\n    addQuestion(state, action) {\r\n      state.quiz.questions.push({\r\n        prompt: \"\",\r\n        choices: [],\r\n      });\r\n    },\r\n\r\n    removeQuestion(state, action) {\r\n      state.quiz.questions.splice(action.payload, 1);\r\n    },\r\n\r\n    setQuestionPrompt: {\r\n      reducer(state, action) {\r\n        const { questionIndex, questionPrompt } = action.payload;\r\n        state.quiz.questions[questionIndex].prompt = questionPrompt;\r\n      },\r\n      prepare(questionIndex, questionPrompt) {\r\n        return {\r\n          payload: { questionIndex, questionPrompt },\r\n        };\r\n      },\r\n    },\r\n\r\n    addChoice(state, action) {\r\n      state.quiz.questions[action.payload].choices.push({\r\n        prompt: \"\",\r\n        correct: false,\r\n      });\r\n    },\r\n\r\n    removeChoice: {\r\n      reducer(state, action) {\r\n        const { questionIndex, choiceIndex } = action.payload;\r\n        state.quiz.questions[questionIndex].choices.splice(choiceIndex, 1);\r\n      },\r\n      prepare(questionIndex, choiceIndex) {\r\n        return {\r\n          payload: { questionIndex, choiceIndex },\r\n        };\r\n      },\r\n    },\r\n\r\n    setChoicePrompt: {\r\n      reducer(state, action) {\r\n        const { questionIndex, choiceIndex, choicePrompt } = action.payload;\r\n        state.quiz.questions[questionIndex].choices[\r\n          choiceIndex\r\n        ].prompt = choicePrompt;\r\n      },\r\n      prepare(questionIndex, choiceIndex, choicePrompt) {\r\n        return {\r\n          payload: { questionIndex, choiceIndex, choicePrompt },\r\n        };\r\n      },\r\n    },\r\n\r\n    setChoiceCorrect: {\r\n      reducer(state, action) {\r\n        const { questionIndex, choiceIndex, choiceCorrect } = action.payload;\r\n        state.quiz.questions[questionIndex].choices[\r\n          choiceIndex\r\n        ].correct = choiceCorrect;\r\n      },\r\n      prepare(questionIndex, choiceIndex, choiceCorrect) {\r\n        return {\r\n          payload: { questionIndex, choiceIndex, choiceCorrect },\r\n        };\r\n      },\r\n    },\r\n\r\n    setActiveQuestionIndex(state, action) {\r\n      state.activeQuestionIndex = action.payload;\r\n    },\r\n  },\r\n  extraReducers: (builder) => {\r\n    builder\r\n      .addCase(postQuizCreateForm.pending, (state, action) => {\r\n        state.postQuizRequestStatus = \"pending\";\r\n      })\r\n      .addCase(postQuizCreateForm.fulfilled, (state, action) => {\r\n        state.postQuizRequestStatus = \"fulfilled\";\r\n        state.validationErrors = [];\r\n        state.postedQuizId = action.payload._id;\r\n      })\r\n      .addCase(postQuizCreateForm.rejected, (state, action) => {\r\n        state.postQuizRequestStatus = \"rejected\";\r\n        state.validationErrors = action.payload;\r\n      });\r\n  },\r\n});\r\n\r\nexport const {\r\n  reset,\r\n  resetForm,\r\n  resetPostQuizRequest,\r\n  setValidationErrors,\r\n  setQuizTitle,\r\n  setQuizDescription,\r\n  addQuestion,\r\n  removeQuestion,\r\n  setQuestionPrompt,\r\n  addChoice,\r\n  removeChoice,\r\n  setChoicePrompt,\r\n  setChoiceCorrect,\r\n  setActiveQuestionIndex,\r\n} = createQuizSlice.actions;\r\n\r\nexport default createQuizSlice.reducer;\r\n","export const sGetQuiz = (state) => state.quiz.create.quiz;\r\n\r\nexport const sGetQuizTitle = (state) => sGetQuiz(state).title;\r\n\r\nexport const sGetQuizDescription = (state) => sGetQuiz(state).description;\r\n\r\nexport const sGetQuestions = (state) => sGetQuiz(state).questions;\r\n\r\nexport const sGetQuestion = (questionIndex) => (state) =>\r\n  sGetQuestions(state)[questionIndex];\r\n\r\nexport const sGetQuestionPrompt = (questionIndex) => (state) =>\r\n  sGetQuestion(questionIndex)(state).prompt;\r\n\r\nexport const sGetChoices = (questionIndex) => (state) =>\r\n  sGetQuestion(questionIndex)(state).choices;\r\n\r\nexport const sGetChoice = (questionIndex, choiceIndex) => (state) =>\r\n  sGetChoices(questionIndex)(state)[choiceIndex];\r\n\r\nexport const sGetChoicePrompt = (questionId, choiceIndex) => (state) =>\r\n  sGetChoice(questionId, choiceIndex)(state).prompt;\r\n\r\nexport const sGetChoiceCorrect = (questionId, choiceIndex) => (state) =>\r\n  sGetChoice(questionId, choiceIndex)(state).correct;\r\n\r\nexport const sGetActiveQuestionIndex = (state) =>\r\n  state.quiz.create.activeQuestionIndex;\r\n\r\nexport const sGetPostQuizRequestStatus = (state) =>\r\n  state.quiz.create.postQuizRequestStatus;\r\n\r\nexport const sGetPostedQuizId = (state) => state.quiz.create.postedQuizId;\r\n\r\nexport const sGetQuizTitleError = (state) =>\r\n  state.quiz.create.validationErrors.filter(\r\n    ({ path }) => path.length == 1 && path[0] == \"title\"\r\n  )[0]?.message;\r\n\r\nexport const sGetQuizDescriptionError = (state) =>\r\n  state.quiz.create.validationErrors.filter(\r\n    ({ path }) => path.length == 1 && path[0] == \"description\"\r\n  )[0]?.message;\r\n\r\nexport const sGetQuestionsAmountError = (state) =>\r\n  state.quiz.create.validationErrors.filter(\r\n    ({ path }) => path.length == 1 && path[0] == \"questions\"\r\n  )[0]?.message;\r\n\r\nexport const sGetQuestionPromptError = (questionIndex) => (state) =>\r\n  state.quiz.create.validationErrors.filter(\r\n    ({ path }) =>\r\n      path.length == 3 &&\r\n      path[0] == \"questions\" &&\r\n      path[1] == questionIndex &&\r\n      path[2] == \"prompt\"\r\n  )[0]?.message;\r\n\r\nexport const sGetChoiceCriteriaError = (questionIndex) => (state) =>\r\n  state.quiz.create.validationErrors.filter(\r\n    ({ path }) =>\r\n      path.length == 3 &&\r\n      path[0] == \"questions\" &&\r\n      path[1] == questionIndex &&\r\n      path[2] == \"choices\"\r\n  )[0]?.message;\r\n","import { Form, FormGroup } from \"react-bootstrap\";\r\nimport { useEffect } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport {\r\n  removeChoice,\r\n  setChoicePrompt,\r\n  setChoiceCorrect,\r\n} from \"../../services/createSlice\";\r\nimport {\r\n  sGetChoicePrompt,\r\n  sGetChoiceCorrect,\r\n} from \"../../services/createSlice/selectors.js\";\r\n\r\nexport default function ({\r\n  questionIndex,\r\n  choiceIndex,\r\n  focus,\r\n  setFocusChoiceIndex,\r\n}) {\r\n  const dispatch = useDispatch();\r\n\r\n  const choicePrompt = useSelector(\r\n    sGetChoicePrompt(questionIndex, choiceIndex)\r\n  );\r\n  const choiceCorrect = useSelector(\r\n    sGetChoiceCorrect(questionIndex, choiceIndex)\r\n  );\r\n\r\n  let inputRef = null;\r\n\r\n  useEffect(() => {\r\n    if (focus) {\r\n      setFocusChoiceIndex(-1);\r\n      inputRef.focus();\r\n    }\r\n  });\r\n\r\n  return (\r\n    <div className=\"choice-container\">\r\n      <Form className=\"d-flex align-items-baseline\">\r\n        <Form.Group style={{ flex: 1 }} controlId=\"choice-prompt\">\r\n          <Form.Control\r\n            size=\"sm\"\r\n            autoComplete=\"off\"\r\n            type=\"text\"\r\n            placeholder=\"Choice Prompt\"\r\n            value={choicePrompt}\r\n            ref={(choicePromptInput) => (inputRef = choicePromptInput)}\r\n            onChange={(event) => {\r\n              if (event.target.value == \"\") {\r\n                dispatch(removeChoice(questionIndex, choiceIndex));\r\n                setFocusChoiceIndex(choiceIndex);\r\n              } else {\r\n                dispatch(\r\n                  setChoicePrompt(\r\n                    questionIndex,\r\n                    choiceIndex,\r\n                    event.target.value\r\n                  )\r\n                );\r\n              }\r\n            }}\r\n          />\r\n        </Form.Group>\r\n        <Form.Group className={\"ml-3 d-block\"} controlId=\"correct-choice\">\r\n          <Form.Check\r\n            type=\"checkbox\"\r\n            label=\"Correct\"\r\n            checked={choiceCorrect}\r\n            onChange={(event) =>\r\n              dispatch(\r\n                setChoiceCorrect(\r\n                  questionIndex,\r\n                  choiceIndex,\r\n                  event.target.checked\r\n                )\r\n              )\r\n            }\r\n          />\r\n        </Form.Group>\r\n      </Form>\r\n    </div>\r\n  );\r\n}\r\n","import { Form } from \"react-bootstrap\";\r\nimport { useEffect } from \"react\";\r\n\r\nexport default function ({ onChangeCallback, focus, setFocusChoiceIndex }) {\r\n  let inputRef = null;\r\n\r\n  useEffect(() => {\r\n    if (focus) {\r\n      setFocusChoiceIndex(-1);\r\n      inputRef.focus();\r\n    }\r\n  });\r\n\r\n  return (\r\n    <div className=\"choice-container\">\r\n      <Form className=\"d-flex align-items-baseline\">\r\n        <Form.Group style={{ flex: 1 }} controlId=\"choice-prompt\">\r\n          <Form.Control\r\n            size=\"sm\"\r\n            autoComplete=\"off\"\r\n            type=\"text\"\r\n            placeholder=\"Choice Prompt\"\r\n            value=\"\"\r\n            ref={(choicePromptInput) => (inputRef = choicePromptInput)}\r\n            onChange={(event) => {\r\n              onChangeCallback(event.target.value);\r\n            }}\r\n          />\r\n        </Form.Group>\r\n      </Form>\r\n    </div>\r\n  );\r\n}\r\n","import { Form, Button, Collapse } from \"react-bootstrap\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faTrash } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport {\r\n  removeQuestion,\r\n  setQuestionPrompt,\r\n  addChoice,\r\n  setChoicePrompt,\r\n  setActiveQuestionIndex,\r\n} from \"../../services/createSlice\";\r\nimport Choice from \"../Choice\";\r\nimport DummyChoice from \"../DummyChoice\";\r\nimport { useState } from \"react\";\r\nimport {\r\n  sGetChoices,\r\n  sGetQuestionPrompt,\r\n  sGetActiveQuestionIndex,\r\n  sGetQuestionPromptError,\r\n  sGetChoiceCriteriaError,\r\n} from \"../../services/createSlice/selectors.js\";\r\n\r\nimport \"./styles.css\";\r\n\r\nexport default function ({ questionIndex }) {\r\n  const dispatch = useDispatch();\r\n\r\n  const [focusChoiceIndex, setFocusChoiceIndex] = useState(-1);\r\n\r\n  const questionPrompt = useSelector(sGetQuestionPrompt(questionIndex));\r\n  const isQuestionActive =\r\n    useSelector(sGetActiveQuestionIndex) == questionIndex;\r\n  const choices = useSelector(sGetChoices(questionIndex));\r\n  const choicesCount = choices.length;\r\n\r\n  const questionPromptError = useSelector(\r\n    sGetQuestionPromptError(questionIndex)\r\n  );\r\n  const choiceCriteriaError = useSelector(\r\n    sGetChoiceCriteriaError(questionIndex)\r\n  );\r\n\r\n  return (\r\n    <div className=\"question-container\">\r\n      <Collapse in={isQuestionActive}>\r\n        <div className=\"question-container-header\">\r\n          <div className=\"py-2 px-3\">\r\n            <Button\r\n              variant=\"danger\"\r\n              onClick={() => dispatch(removeQuestion(questionIndex))}\r\n            >\r\n              <FontAwesomeIcon icon={faTrash} />\r\n            </Button>\r\n          </div>\r\n        </div>\r\n      </Collapse>\r\n\r\n      <div\r\n        className=\"question-container-body\"\r\n        onClick={() => dispatch(setActiveQuestionIndex(questionIndex))}\r\n      >\r\n        <Form>\r\n          <Form.Group controlId=\"question-prompt\">\r\n            <Form.Label>Question Prompt</Form.Label>\r\n            <Form.Control\r\n              autoComplete=\"off\"\r\n              type=\"text\"\r\n              placeholder=\"Question Prompt\"\r\n              value={questionPrompt}\r\n              isInvalid={questionPromptError !== undefined}\r\n              onChange={(event) =>\r\n                dispatch(setQuestionPrompt(questionIndex, event.target.value))\r\n              }\r\n            />\r\n            <Form.Control.Feedback type=\"invalid\">\r\n              {questionPromptError}\r\n            </Form.Control.Feedback>\r\n          </Form.Group>\r\n        </Form>\r\n        <hr />\r\n\r\n        {choices.map((choice, choiceIndex) => (\r\n          <Choice\r\n            key={choiceIndex}\r\n            questionIndex={questionIndex}\r\n            choiceIndex={choiceIndex}\r\n            focus={choiceIndex == focusChoiceIndex}\r\n            setFocusChoiceIndex={setFocusChoiceIndex}\r\n          />\r\n        ))}\r\n\r\n        <DummyChoice\r\n          onChangeCallback={(value) => {\r\n            dispatch(addChoice(questionIndex));\r\n            dispatch(setChoicePrompt(questionIndex, choicesCount, value));\r\n            setFocusChoiceIndex(choicesCount);\r\n          }}\r\n          focus={choicesCount == focusChoiceIndex}\r\n          setFocusChoiceIndex={setFocusChoiceIndex}\r\n        />\r\n\r\n        <div className=\"invalid-feedback\" style={{ display: \"block\" }}>\r\n          {choiceCriteriaError}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import { useDispatch, useSelector } from \"react-redux\";\r\nimport { useEffect } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { Card, Form, Button, Alert } from \"react-bootstrap\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faPlus } from \"@fortawesome/free-solid-svg-icons\";\r\nimport {\r\n  reset,\r\n  resetPostQuizRequest,\r\n  setQuizTitle,\r\n  setQuizDescription,\r\n  addQuestion,\r\n  postQuizCreateForm,\r\n} from \"./services/createSlice\";\r\nimport {\r\n  sGetQuiz,\r\n  sGetQuizTitle,\r\n  sGetQuizDescription,\r\n  sGetQuestions,\r\n  sGetPostQuizRequestStatus,\r\n  sGetPostedQuizId,\r\n  sGetQuizTitleError,\r\n  sGetQuizDescriptionError,\r\n  sGetQuestionsAmountError,\r\n} from \"./services/createSlice/selectors.js\";\r\nimport PostRequestButton from \"../../../../components/PostRequestButton\";\r\nimport Question from \"./components/Question\";\r\n\r\nimport \"./styles.css\";\r\n\r\nexport default function () {\r\n  const dispatch = useDispatch();\r\n  const history = useHistory();\r\n\r\n  const quiz = useSelector(sGetQuiz);\r\n  const quizTitle = useSelector(sGetQuizTitle);\r\n  const quizDescription = useSelector(sGetQuizDescription);\r\n  const questions = useSelector(sGetQuestions);\r\n\r\n  const postQuizRequestStatus = useSelector(sGetPostQuizRequestStatus);\r\n  const postedQuizId = useSelector(sGetPostedQuizId);\r\n\r\n  const quizTitleError = useSelector(sGetQuizTitleError);\r\n  const quizDescriptionError = useSelector(sGetQuizDescriptionError);\r\n  const quizQuestionsAmountError = useSelector(sGetQuestionsAmountError);\r\n\r\n  useEffect(() => {\r\n    if (postQuizRequestStatus === \"fulfilled\")\r\n      history.push(`/quiz/open/${postedQuizId}`);\r\n\r\n    return function cleanup() {\r\n      dispatch(resetPostQuizRequest());\r\n    };\r\n  }, [postQuizRequestStatus]);\r\n\r\n  return (\r\n    <div className=\"quiz-create\">\r\n      <Card className=\"m-4\">\r\n        <Card.Header>\r\n          <h3>Create your own Quiz!</h3>\r\n        </Card.Header>\r\n\r\n        <Card.Body>\r\n          <div className=\"quiz-container\">\r\n            <Form>\r\n              <Form.Group controlId=\"quiz-title\">\r\n                <Form.Label>Quiz Title</Form.Label>\r\n                <Form.Control\r\n                  size=\"lg\"\r\n                  autoComplete=\"off\"\r\n                  type=\"text\"\r\n                  placeholder=\"Quiz Title\"\r\n                  value={quizTitle}\r\n                  isInvalid={quizTitleError !== undefined}\r\n                  onChange={(event) =>\r\n                    dispatch(setQuizTitle(event.target.value))\r\n                  }\r\n                />\r\n                <Form.Control.Feedback type=\"invalid\">\r\n                  {quizTitleError}\r\n                </Form.Control.Feedback>\r\n              </Form.Group>\r\n              <Form.Group controlId=\"quiz-description\">\r\n                <Form.Label>Quiz Description</Form.Label>\r\n                <Form.Control\r\n                  size=\"lg\"\r\n                  autoComplete=\"off\"\r\n                  type=\"text\"\r\n                  placeholder=\"Quiz Description\"\r\n                  value={quizDescription}\r\n                  isInvalid={quizDescriptionError !== undefined}\r\n                  onChange={(event) =>\r\n                    dispatch(setQuizDescription(event.target.value))\r\n                  }\r\n                />\r\n                <Form.Control.Feedback type=\"invalid\">\r\n                  {quizDescriptionError}\r\n                </Form.Control.Feedback>\r\n              </Form.Group>\r\n            </Form>\r\n          </div>\r\n\r\n          {questions.map((question, questionIndex) => (\r\n            <Question key={questionIndex} questionIndex={questionIndex} />\r\n          ))}\r\n\r\n          <Button variant=\"success\" onClick={() => dispatch(addQuestion())}>\r\n            <b className=\"pr-2\">Add Question</b>\r\n            <FontAwesomeIcon icon={faPlus} />\r\n          </Button>\r\n          <div className=\"invalid-feedback\" style={{ display: \"block\" }}>\r\n            {quizQuestionsAmountError}\r\n          </div>\r\n        </Card.Body>\r\n\r\n        <Card.Footer>\r\n          <Button\r\n            className=\"mr-2\"\r\n            variant=\"primary\"\r\n            onClick={() => dispatch(reset())}\r\n          >\r\n            New\r\n          </Button>\r\n\r\n          <PostRequestButton\r\n            initiatePostRequest={() => dispatch(postQuizCreateForm(quiz))}\r\n            postRequestStatus={postQuizRequestStatus}\r\n            idleText=\"Create\"\r\n          />\r\n        </Card.Footer>\r\n      </Card>\r\n    </div>\r\n  );\r\n}\r\n","export const sGetSimplifiedQuiz = (state) => state.quiz.open.simplifiedQuiz;\r\n\r\nexport const sGetSimplifiedQuizId = (state) => sGetSimplifiedQuiz(state)._id;\r\n\r\nexport const sGetSimplifiedQuizTitle = (state) =>\r\n  sGetSimplifiedQuiz(state).title;\r\n\r\nexport const sGetSimplifiedQuizDescription = (state) =>\r\n  sGetSimplifiedQuiz(state).description;\r\n\r\nexport const sGetSimplifiedQuizRequestStatus = (state) =>\r\n  state.quiz.open.simplifiedQuizRequestStatus;\r\n","import { Card, Button } from \"react-bootstrap\";\r\nimport { LinkContainer } from \"react-router-bootstrap\";\r\nimport { useSelector } from \"react-redux\";\r\nimport {\r\n  sGetSimplifiedQuizId,\r\n  sGetSimplifiedQuizTitle,\r\n  sGetSimplifiedQuizDescription,\r\n} from \"../services/openSlice/selectors.js\";\r\n\r\nexport default function () {\r\n  const quizId = useSelector(sGetSimplifiedQuizId);\r\n  const quizTitle = useSelector(sGetSimplifiedQuizTitle);\r\n  const quizDescription = useSelector(sGetSimplifiedQuizDescription);\r\n\r\n  return (\r\n    <div className=\"open\">\r\n      <Card className=\"m-4\">\r\n        <Card.Header>\r\n          <h3>{quizTitle}</h3>\r\n        </Card.Header>\r\n        <Card.Body>{quizDescription}</Card.Body>\r\n        <Card.Footer>\r\n          <LinkContainer exact to={\"/quiz/take/\" + quizId}>\r\n            <Button variant=\"success\">Take</Button>\r\n          </LinkContainer>\r\n        </Card.Footer>\r\n      </Card>\r\n    </div>\r\n  );\r\n}\r\n","import { Card, Button } from \"react-bootstrap\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { sGetSimplifiedQuizRequestStatus } from \"../services/openSlice/selectors.js\";\r\n\r\nexport default function ({ loadResources }) {\r\n  const simplifiedQuizRequestStatus = useSelector(\r\n    sGetSimplifiedQuizRequestStatus\r\n  );\r\n\r\n  const resourcesFailedToLoad = simplifiedQuizRequestStatus == \"rejected\";\r\n\r\n  return (\r\n    <div className=\"open\">\r\n      <Card className=\"m-4\">\r\n        <Card.Header>\r\n          <h3>{resourcesFailedToLoad ? \"Uh oh...\" : \"Loading...\"}</h3>\r\n        </Card.Header>\r\n        <Card.Body>\r\n          {resourcesFailedToLoad\r\n            ? \"We failed to load the quiz.\"\r\n            : \"We are loading your quiz.\"}\r\n        </Card.Body>\r\n        <Card.Footer>\r\n          {resourcesFailedToLoad ? (\r\n            <Button variant=\"danger\" onClick={loadResources}>\r\n              Retry\r\n            </Button>\r\n          ) : (\r\n            <Button disabled variant=\"secondary\">\r\n              Please Wait\r\n            </Button>\r\n          )}\r\n        </Card.Footer>\r\n      </Card>\r\n    </div>\r\n  );\r\n}\r\n","export async function fetchSimplifiedQuiz(quizId) {\r\n  const response = await fetch(`/api/quiz/open/simplifiedQuiz/${quizId}`);\r\n  const data = await response.json();\r\n  return data;\r\n}\r\n","import { createSlice, createAsyncThunk } from \"@reduxjs/toolkit\";\r\nimport { fetchSimplifiedQuiz } from \"../api.js\";\r\n\r\nconst initialState = {\r\n  simplifiedQuiz: {},\r\n  simplifiedQuizRequestStatus: \"idle\",\r\n};\r\n\r\nexport const getSimplifiedQuiz = createAsyncThunk(\r\n  \"open/getSimplifiedQuiz\",\r\n  async (quizId) => {\r\n    return await fetchSimplifiedQuiz(quizId);\r\n  }\r\n);\r\n\r\nconst openSlice = createSlice({\r\n  name: \"open\",\r\n  initialState,\r\n  reducers: {\r\n    reset(action, state) {\r\n      return { ...state };\r\n    },\r\n  },\r\n  extraReducers: (builder) => {\r\n    builder\r\n      .addCase(getSimplifiedQuiz.pending, (state, action) => {\r\n        state.simplifiedQuizRequestStatus = \"pending\";\r\n      })\r\n      .addCase(getSimplifiedQuiz.fulfilled, (state, action) => {\r\n        state.simplifiedQuizRequestStatus = \"fulfilled\";\r\n        state.simplifiedQuiz = action.payload;\r\n      })\r\n      .addCase(getSimplifiedQuiz.rejected, (state, action) => {\r\n        state.simplifiedQuizRequestStatus = \"rejected\";\r\n      });\r\n  },\r\n});\r\n\r\nexport const { reset } = openSlice.actions;\r\n\r\nexport default openSlice.reducer;\r\n","import { useParams } from \"react-router\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport QuizCard from \"./components/QuizCard\";\r\nimport LoadingQuizCard from \"./components/LoadingQuizCard\";\r\nimport {\r\n  sGetSimplifiedQuizRequestStatus,\r\n  sGetSimplifiedQuiz,\r\n} from \"./services/openSlice/selectors.js\";\r\nimport { reset, getSimplifiedQuiz } from \"./services/openSlice\";\r\nimport { useEffect } from \"react\";\r\n\r\nexport default function () {\r\n  const dispatch = useDispatch();\r\n  const params = useParams();\r\n  const quizId = params.id;\r\n\r\n  const simplifiedQuiz = useSelector(sGetSimplifiedQuiz);\r\n  const simplifiedQuizRequestStatus = useSelector(\r\n    sGetSimplifiedQuizRequestStatus\r\n  );\r\n\r\n  const resourcesLoaded = simplifiedQuizRequestStatus == \"fulfilled\";\r\n\r\n  const loadResources = () => {\r\n    dispatch(getSimplifiedQuiz(quizId));\r\n  };\r\n\r\n  useEffect(() => {\r\n    loadResources();\r\n    return function cleanup() {\r\n      dispatch(reset());\r\n    };\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"quiz-open\">\r\n      {resourcesLoaded ? (\r\n        <QuizCard simplifiedQuiz={simplifiedQuiz} />\r\n      ) : (\r\n        <LoadingQuizCard loadResources={loadResources} />\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","export async function fetchUnrevealedQuiz(quizId) {\r\n  const response = await fetch(`/api/quiz/take/unrevealedQuiz/${quizId}`);\r\n  const data = await response.json();\r\n  return data;\r\n}\r\n\r\nexport async function fetchCorrectChoices(quizId, questionId) {\r\n  const response = await fetch(\r\n    `/api/quiz/take/correctChoices/${quizId}/${questionId}`\r\n  );\r\n  const data = await response.json();\r\n  return data;\r\n}\r\n","export const sGetQuizRequestStatus = (state) => {\r\n  return state.quiz.take.quizRequestStatus;\r\n};\r\n\r\nexport const sGetQuiz = (state) => {\r\n  return state.quiz.take.quiz;\r\n};\r\n\r\nexport const sGetQuizId = (state) => {\r\n  return sGetQuiz(state)._id;\r\n};\r\n\r\nexport const sGetQuizTitle = (state) => {\r\n  return sGetQuiz(state).title;\r\n};\r\n\r\nexport const sGetQuizDescription = (state) => {\r\n  return sGetQuiz(state).description;\r\n};\r\n\r\nexport const sGetQuestions = (state) => {\r\n  return sGetQuiz(state).questions;\r\n};\r\n\r\nexport const sGetQuestionCount = (state) => {\r\n  return sGetQuestions(state).length;\r\n};\r\n\r\nexport const sGetQuestion = (questionId) => (state) => {\r\n  return sGetQuestions(state).filter(\r\n    (question) => question._id == questionId\r\n  )[0];\r\n};\r\n\r\nexport const sGetChoice = (questionId, choiceId) => (state) => {\r\n  return sGetQuestion(questionId)(state).choices.filter(\r\n    (choice) => choice._id == choiceId\r\n  )[0];\r\n};\r\n\r\nexport const sGetChoicePrompt = (questionId, choiceId) => (state) => {\r\n  return sGetChoice(questionId, choiceId)(state).prompt;\r\n};\r\n\r\nexport const sGetCorrectChoices = (state) => {\r\n  return state.quiz.take.correctChoices;\r\n};\r\n\r\nexport const sGetCorrectChoicesRequestStatus = (state) => {\r\n  return state.quiz.take.correctChoicesRequestStatus;\r\n};\r\n\r\nexport const sGetCurrentQuestionId = (state) => {\r\n  return state.quiz.take.currentQuestionId;\r\n};\r\n\r\nexport const sGetSelectedChoiceId = (state) => {\r\n  return state.quiz.take.selectedChoiceId;\r\n};\r\n\r\nexport const sGetIsChoiceSelected = (state) => {\r\n  return state.quiz.take.selectedChoiceId !== -1;\r\n};\r\n\r\nexport const sGetSelectedChoiceCorrect = (state) => {\r\n  return state.quiz.take.selectedChoiceCorrect;\r\n};\r\n\r\nexport const sGetTotalCorrectQuestions = (state) => {\r\n  return state.quiz.take.totalCorrectQuestions;\r\n};\r\n\r\nexport const sGetTotalWrongQuestions = (state) => {\r\n  return state.quiz.take.totalWrongQuestions;\r\n};\r\n","import { createSlice, createAsyncThunk } from \"@reduxjs/toolkit\";\r\nimport { fetchUnrevealedQuiz, fetchCorrectChoices } from \"../api.js\";\r\nimport {\r\n  sGetSelectedChoiceId,\r\n  sGetTotalCorrectQuestions,\r\n  sGetTotalWrongQuestions,\r\n} from \"./selectors.js\";\r\n\r\nexport const getUnrevealedQuiz = createAsyncThunk(\r\n  \"quizTake/getUnrevealedQuiz\",\r\n  async (quizId) => {\r\n    return await fetchUnrevealedQuiz(quizId);\r\n  }\r\n);\r\n\r\nexport const getCorrectChoices = createAsyncThunk(\r\n  \"take/getCorrectChoices\",\r\n  async ({ quizId, questionId }, { dispatch, getState }) => {\r\n    const correctChoices = await fetchCorrectChoices(quizId, questionId);\r\n    const selectedChoiceId = sGetSelectedChoiceId(getState());\r\n    const isCorrect = correctChoices.some((id) => id == selectedChoiceId);\r\n\r\n    const totalCorrectQuestions = sGetTotalCorrectQuestions(getState());\r\n    const totalWrongQuestions = sGetTotalWrongQuestions(getState());\r\n\r\n    dispatch(setSelectedChoiceCorrect(isCorrect));\r\n    if (isCorrect)\r\n      dispatch(setTotalCorrectQuestions(totalCorrectQuestions + 1));\r\n    else dispatch(setTotalWrongQuestions(totalWrongQuestions + 1));\r\n\r\n    return correctChoices;\r\n  }\r\n);\r\n\r\nconst initialState = {\r\n  quiz: {},\r\n  quizRequestStatus: \"idle\",\r\n  correctChoices: [],\r\n  correctChoicesRequestStatus: \"idle\",\r\n  currentQuestionId: 1,\r\n  selectedChoiceId: -1,\r\n  selectedChoiceCorrect: false,\r\n  totalCorrectQuestions: 0,\r\n  totalWrongQuestions: 0,\r\n  quizFinished: false,\r\n};\r\n\r\nconst takeSlice = createSlice({\r\n  name: \"take\",\r\n  initialState,\r\n  reducers: {\r\n    reset(state, action) {\r\n      return { ...initialState };\r\n    },\r\n\r\n    clearCorrectChoices(state, action) {\r\n      state.correctChoices = [];\r\n      state.correctChoicesRequestStatus = \"idle\";\r\n    },\r\n\r\n    incrementCurrentQuestionId(state, action) {\r\n      state.currentQuestionId++;\r\n    },\r\n\r\n    setSelectedChoiceId(state, action) {\r\n      state.selectedChoiceId = action.payload;\r\n      state.selectedChoiceCorrect = false;\r\n    },\r\n\r\n    setSelectedChoiceCorrect(state, action) {\r\n      state.selectedChoiceCorrect = action.payload;\r\n    },\r\n\r\n    setTotalCorrectQuestions(state, action) {\r\n      state.totalCorrectQuestions = action.payload;\r\n    },\r\n\r\n    setTotalWrongQuestions(state, action) {\r\n      state.totalWrongQuestions = action.payload;\r\n    },\r\n  },\r\n  extraReducers: (builder) => {\r\n    builder\r\n      .addCase(getUnrevealedQuiz.pending, (state, action) => {\r\n        state.quizRequestStatus = \"pending\";\r\n      })\r\n      .addCase(getUnrevealedQuiz.fulfilled, (state, action) => {\r\n        state.quizRequestStatus = \"fulfilled\";\r\n        state.quiz = action.payload;\r\n      })\r\n      .addCase(getUnrevealedQuiz.rejected, (state, action) => {\r\n        state.quizRequestStatus = \"rejected\";\r\n      })\r\n      .addCase(getCorrectChoices.pending, (state, action) => {\r\n        state.correctChoicesRequestStatus = \"pending\";\r\n      })\r\n      .addCase(getCorrectChoices.fulfilled, (state, action) => {\r\n        state.correctChoicesRequestStatus = \"fulfilled\";\r\n        state.correctChoices = action.payload;\r\n      })\r\n      .addCase(getCorrectChoices.rejected, (state, action) => {\r\n        state.correctChoicesRequestStatus = \"rejected\";\r\n      });\r\n  },\r\n});\r\n\r\nexport const {\r\n  reset,\r\n  clearCorrectChoices,\r\n  incrementCurrentQuestionId,\r\n  setSelectedChoiceId,\r\n  setSelectedChoiceCorrect,\r\n  setTotalCorrectQuestions,\r\n  setTotalWrongQuestions,\r\n} = takeSlice.actions;\r\n\r\nexport default takeSlice.reducer;\r\n","import { Card, Button } from \"react-bootstrap\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { sGetQuizRequestStatus } from \"../../services/takeSlice/selectors.js\";\r\n\r\nexport default function ({ loadQuiz }) {\r\n  const quizRequestStatus = useSelector(sGetQuizRequestStatus);\r\n  const quizFailedToLoad = quizRequestStatus == \"rejected\";\r\n\r\n  return (\r\n    <Card className=\"m-4\">\r\n      <Card.Header>{quizFailedToLoad ? \"Uh oh...\" : \"Loading...\"}</Card.Header>\r\n      <Card.Body>\r\n        {quizFailedToLoad\r\n          ? \"We were unable to load the quiz\"\r\n          : \"We are loading your quiz!\"}\r\n      </Card.Body>\r\n      <Card.Footer>\r\n        {quizFailedToLoad ? (\r\n          <Button variant=\"danger\" onClick={loadQuiz}>\r\n            Retry\r\n          </Button>\r\n        ) : (\r\n          <Button disabled variant=\"outline-secondary\">\r\n            Please Wait...\r\n          </Button>\r\n        )}\r\n      </Card.Footer>\r\n    </Card>\r\n  );\r\n}\r\n","import { useSelector, useDispatch } from \"react-redux\";\r\nimport {\r\n  sGetQuizId,\r\n  sGetCurrentQuestionId,\r\n  sGetChoice,\r\n  sGetSelectedChoiceId,\r\n  sGetCorrectChoicesRequestStatus,\r\n  sGetSelectedChoiceCorrect,\r\n} from \"../../services/takeSlice/selectors.js\";\r\nimport {\r\n  setSelectedChoiceId,\r\n  getCorrectChoices,\r\n} from \"../../services/takeSlice\";\r\n\r\nimport \"./styles.css\";\r\n\r\nexport default function ({ choiceId }) {\r\n  const dispatch = useDispatch();\r\n\r\n  const quizId = useSelector(sGetQuizId);\r\n  const currentQuestionId = useSelector(sGetCurrentQuestionId);\r\n  const choice = useSelector(sGetChoice(currentQuestionId, choiceId));\r\n  const selectedChoiceId = useSelector(sGetSelectedChoiceId);\r\n  const selectedChoiceCorrect = useSelector(sGetSelectedChoiceCorrect);\r\n  const correctChoicesRequestStatus = useSelector(\r\n    sGetCorrectChoicesRequestStatus\r\n  );\r\n\r\n  const isFetchingCorrectChoices = correctChoicesRequestStatus == \"pending\";\r\n  const isSelected = choiceId == selectedChoiceId;\r\n  const isCorrect = selectedChoiceCorrect;\r\n\r\n  let choiceClass;\r\n  if (isSelected) {\r\n    if (isFetchingCorrectChoices) {\r\n      choiceClass = \"choice-pending\";\r\n    } else {\r\n      if (isCorrect) {\r\n        choiceClass = \"choice-correct\";\r\n      } else {\r\n        choiceClass = \"choice-incorrect\";\r\n      }\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div\r\n      className={\"choice p-2 m-2 \" + choiceClass}\r\n      onClick={() => {\r\n        if (selectedChoiceId == -1) {\r\n          dispatch(setSelectedChoiceId(choiceId));\r\n          dispatch(\r\n            getCorrectChoices({\r\n              quizId,\r\n              questionId: currentQuestionId,\r\n            })\r\n          );\r\n        }\r\n      }}\r\n    >\r\n      {choice.prompt}\r\n    </div>\r\n  );\r\n}\r\n","import { Card, Button, ProgressBar } from \"react-bootstrap\";\r\nimport { LinkContainer } from \"react-router-bootstrap\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport {\r\n  sGetQuizId,\r\n  sGetQuizTitle,\r\n  sGetQuestionCount,\r\n  sGetTotalCorrectQuestions,\r\n  sGetTotalWrongQuestions,\r\n  sGetCurrentQuestionId,\r\n  sGetQuestion,\r\n  sGetIsChoiceSelected,\r\n} from \"../../services/takeSlice/selectors.js\";\r\nimport {\r\n  incrementCurrentQuestionId,\r\n  setSelectedChoiceId,\r\n  setTotalWrongQuestions,\r\n} from \"../../services/takeSlice\";\r\nimport Choice from \"../Choice\";\r\n\r\nexport default function () {\r\n  const dispatch = useDispatch();\r\n\r\n  const quizId = useSelector(sGetQuizId);\r\n  const quizTitle = useSelector(sGetQuizTitle);\r\n  const totalQuestions = useSelector(sGetQuestionCount);\r\n  const totalCorrectQuestions = useSelector(sGetTotalCorrectQuestions);\r\n  const totalWrongQuestions = useSelector(sGetTotalWrongQuestions);\r\n  const isChoiceSelected = useSelector(sGetIsChoiceSelected);\r\n\r\n  const currentQuestionId = useSelector(sGetCurrentQuestionId);\r\n  const currentQuestion = useSelector(sGetQuestion(currentQuestionId));\r\n  const { prompt, choices } = currentQuestion;\r\n\r\n  const isLastQuestion = currentQuestionId == totalQuestions;\r\n\r\n  return (\r\n    <Card className=\"m-4\">\r\n      <Card.Header>{quizTitle}</Card.Header>\r\n      <Card.Body>\r\n        <h5>{prompt}</h5>\r\n        <hr />\r\n        {choices.map((choice, choiceIndex) => (\r\n          <Choice key={choiceIndex} choiceId={choice._id} />\r\n        ))}\r\n      </Card.Body>\r\n      <Card.Footer>\r\n        <div className=\"d-flex align-items-baseline\">\r\n          <ProgressBar style={{ flex: 1 }}>\r\n            <ProgressBar\r\n              variant=\"success\"\r\n              now={(100 * totalCorrectQuestions) / totalQuestions}\r\n              key={1}\r\n            />\r\n            <ProgressBar\r\n              variant=\"danger\"\r\n              now={(100 * totalWrongQuestions) / totalQuestions}\r\n              key={2}\r\n            />\r\n          </ProgressBar>\r\n\r\n          <LinkContainer exact to={\"/quiz/open/\" + quizId}>\r\n            <Button className=\"mx-3\" variant=\"danger\">\r\n              Quit\r\n            </Button>\r\n          </LinkContainer>\r\n\r\n          {isLastQuestion ? (\r\n            <LinkContainer exact to=\"/quiz/browse\">\r\n              <Button variant=\"success\">Finish</Button>\r\n            </LinkContainer>\r\n          ) : (\r\n            <Button\r\n              variant=\"success\"\r\n              onClick={() => {\r\n                dispatch(incrementCurrentQuestionId());\r\n                dispatch(setSelectedChoiceId(-1));\r\n                if (!isChoiceSelected)\r\n                  dispatch(setTotalWrongQuestions(totalWrongQuestions + 1));\r\n              }}\r\n            >\r\n              Next\r\n            </Button>\r\n          )}\r\n        </div>\r\n      </Card.Footer>\r\n    </Card>\r\n  );\r\n}\r\n","import { useParams } from \"react-router\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { useEffect } from \"react\";\r\nimport { getUnrevealedQuiz, reset } from \"./services/takeSlice\";\r\nimport { sGetQuizRequestStatus } from \"./services/takeSlice/selectors.js\";\r\nimport LoadingQuizCard from \"./components/LoadingQuizCard\";\r\nimport QuestionCard from \"./components/QuestionCard\";\r\n\r\nexport default function () {\r\n  const params = useParams();\r\n  const quizId = params.id;\r\n  const dispatch = useDispatch();\r\n\r\n  const quizRequestStatus = useSelector(sGetQuizRequestStatus);\r\n  const quizLoaded = quizRequestStatus == \"fulfilled\";\r\n\r\n  const loadQuiz = () => {\r\n    dispatch(getUnrevealedQuiz(quizId));\r\n  };\r\n\r\n  useEffect(() => {\r\n    loadQuiz();\r\n\r\n    return function cleanup() {\r\n      dispatch(reset());\r\n    };\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"quiz-take\">\r\n      {quizLoaded ? <QuestionCard /> : <LoadingQuizCard loadQuiz={loadQuiz} />}\r\n    </div>\r\n  );\r\n}\r\n","export async function postLogin(login) {\r\n  try {\r\n    const requestOptions = {\r\n      method: \"POST\",\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n      body: JSON.stringify(login),\r\n    };\r\n\r\n    const response = await fetch(\"/api/authentication/login\", requestOptions);\r\n    const data = await response.json();\r\n    return data;\r\n  } catch (error) {\r\n    return null;\r\n  }\r\n}\r\n","import Joi from \"joi\";\r\n\r\nconst userSchema = Joi.object({\r\n  username: Joi.string().trim().alphanum().min(3).max(20).required(),\r\n  password: Joi.string().min(5).max(100),\r\n});\r\n\r\nexport default userSchema;\r\n","import { createSlice, createAsyncThunk } from \"@reduxjs/toolkit\";\r\nimport { postLogin } from \"../api.js\";\r\nimport userSchema from \"../../../../services/userSchema.js\";\r\nimport { getAuthenticated } from \"../../../../../../services/authenticatedSlice\";\r\n\r\nconst initialState = {\r\n  username: \"\",\r\n  password: \"\",\r\n  postLoginRequestStatus: \"idle\",\r\n  validationErrors: [],\r\n};\r\n\r\nexport const postLoginForm = createAsyncThunk(\r\n  \"login/postLoginForm\",\r\n  async (user, { dispatch, rejectWithValue }) => {\r\n    const result = userSchema.validate(user, { abortEarly: false });\r\n    if (result.error) return rejectWithValue(result.error.details);\r\n\r\n    const data = await postLogin(user);\r\n    if (data.error)\r\n      return rejectWithValue([{ message: data.error, path: [data.field] }]);\r\n    await dispatch(getAuthenticated());\r\n    return data;\r\n  }\r\n);\r\n\r\nconst loginSlice = createSlice({\r\n  name: \"login\",\r\n  initialState,\r\n  reducers: {\r\n    reset(state, action) {\r\n      return { ...initialState };\r\n    },\r\n\r\n    setUsername(state, action) {\r\n      state.username = action.payload;\r\n    },\r\n\r\n    setPassword(state, action) {\r\n      state.password = action.payload;\r\n    },\r\n  },\r\n  extraReducers: (builder) => {\r\n    builder\r\n      .addCase(postLoginForm.pending, (state, action) => {\r\n        state.postLoginRequestStatus = \"pending\";\r\n      })\r\n      .addCase(postLoginForm.fulfilled, (state, action) => {\r\n        state.postLoginRequestStatus = \"fulfilled\";\r\n        state.validationErrors = [];\r\n      })\r\n      .addCase(postLoginForm.rejected, (state, action) => {\r\n        state.postLoginRequestStatus = \"rejected\";\r\n        state.validationErrors = action.payload;\r\n      });\r\n  },\r\n});\r\n\r\nexport const { reset, setUsername, setPassword } = loginSlice.actions;\r\n\r\nexport default loginSlice.reducer;\r\n","export const sGetUsername = (state) => state.authentication.login.username;\r\n\r\nexport const sGetPassword = (state) => state.authentication.login.password;\r\n\r\nexport const sGetUser = (state) => ({\r\n  username: sGetUsername(state),\r\n  password: sGetPassword(state),\r\n});\r\n\r\nexport const sGetPostLoginRequestStatus = (state) =>\r\n  state.authentication.login.postLoginRequestStatus;\r\n\r\nexport const sGetValidationErrors = (state) =>\r\n  state.authentication.login.validationErrors;\r\n\r\nexport const sGetUsernameError = (state) =>\r\n  sGetValidationErrors(state).filter(\r\n    ({ path }) => path.length == 1 && path[0] == \"username\"\r\n  )[0]?.message;\r\n\r\nexport const sGetPasswordError = (state) =>\r\n  sGetValidationErrors(state).filter(\r\n    ({ path }) => path.length == 1 && path[0] == \"password\"\r\n  )[0]?.message;\r\n","import { useSelector, useDispatch } from \"react-redux\";\r\nimport { useEffect } from \"react\";\r\nimport { Card, Form } from \"react-bootstrap\";\r\nimport { Redirect, useLocation } from \"react-router-dom\";\r\nimport PostRequestButton from \"../../../../components/PostRequestButton\";\r\nimport {\r\n  reset,\r\n  postLoginForm,\r\n  setUsername,\r\n  setPassword,\r\n} from \"./services/loginSlice\";\r\nimport {\r\n  sGetUser,\r\n  sGetUsername,\r\n  sGetPassword,\r\n  sGetPostLoginRequestStatus,\r\n  sGetUsernameError,\r\n  sGetPasswordError,\r\n} from \"./services/loginSlice/selectors.js\";\r\n\r\nfunction useQuery() {\r\n  return new URLSearchParams(useLocation().search);\r\n}\r\n\r\nexport default function () {\r\n  const dispatch = useDispatch();\r\n  const query = useQuery();\r\n  const redirectPath = query.get(\"redirect\");\r\n\r\n  const user = useSelector(sGetUser);\r\n  const username = useSelector(sGetUsername);\r\n  const password = useSelector(sGetPassword);\r\n  const postLoginRequestStatus = useSelector(sGetPostLoginRequestStatus);\r\n\r\n  const usernameError = useSelector(sGetUsernameError);\r\n  const passwordError = useSelector(sGetPasswordError);\r\n\r\n  useEffect(() => {\r\n    return function cleanup() {\r\n      dispatch(reset());\r\n    };\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"authentication-login\">\r\n      <Card className=\"m-4\">\r\n        <Card.Header>\r\n          <h4>Account Login</h4>\r\n        </Card.Header>\r\n\r\n        <Card.Body>\r\n          <Form>\r\n            <Form.Group controlId=\"username\">\r\n              <Form.Label>Username</Form.Label>\r\n              <Form.Control\r\n                autoComplete=\"on\"\r\n                type=\"text\"\r\n                placeholder=\"Username\"\r\n                value={username}\r\n                isInvalid={usernameError !== undefined}\r\n                onChange={(event) => dispatch(setUsername(event.target.value))}\r\n              />\r\n              <Form.Control.Feedback type=\"invalid\">\r\n                {usernameError}\r\n              </Form.Control.Feedback>\r\n            </Form.Group>\r\n            <Form.Group controlId=\"password\">\r\n              <Form.Label>Password</Form.Label>\r\n              <Form.Control\r\n                autoComplete=\"on\"\r\n                type=\"password\"\r\n                placeholder=\"Password\"\r\n                value={password}\r\n                isInvalid={passwordError !== undefined}\r\n                onChange={(event) => dispatch(setPassword(event.target.value))}\r\n              />\r\n              <Form.Control.Feedback type=\"invalid\">\r\n                {passwordError}\r\n              </Form.Control.Feedback>\r\n            </Form.Group>\r\n          </Form>\r\n        </Card.Body>\r\n\r\n        <Card.Footer className=\"d-flex\">\r\n          {postLoginRequestStatus === \"fulfilled\" ? (\r\n            <Redirect\r\n              to={\r\n                Boolean(redirectPath) ? redirectPath : \"/authentication/account\"\r\n              }\r\n            />\r\n          ) : (\r\n            <PostRequestButton\r\n              className=\"ml-auto\"\r\n              initiatePostRequest={() => dispatch(postLoginForm(user))}\r\n              postRequestStatus={postLoginRequestStatus}\r\n              idleText=\"Login\"\r\n            />\r\n          )}\r\n        </Card.Footer>\r\n      </Card>\r\n    </div>\r\n  );\r\n}\r\n","export async function postRegister(register) {\r\n  try {\r\n    const requestOptions = {\r\n      method: \"POST\",\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n      body: JSON.stringify(register),\r\n    };\r\n\r\n    const response = await fetch(\r\n      \"/api/authentication/register\",\r\n      requestOptions\r\n    );\r\n    const data = await response.json();\r\n    return data;\r\n  } catch (error) {\r\n    return null;\r\n  }\r\n}\r\n","import { createSlice, createAsyncThunk } from \"@reduxjs/toolkit\";\r\nimport { postRegister } from \"../api.js\";\r\nimport userSchema from \"../../../../services/userSchema.js\";\r\n\r\nconst initialState = {\r\n  username: \"\",\r\n  password: \"\",\r\n  postRegisterRequestStatus: \"idle\",\r\n  validationErrors: [],\r\n};\r\n\r\nexport const postRegisterForm = createAsyncThunk(\r\n  \"register/postRegisterForm\",\r\n  async (user, { rejectWithValue }) => {\r\n    const result = userSchema.validate(user, { abortEarly: false });\r\n    if (result.error) return rejectWithValue(result.error.details);\r\n\r\n    const data = await postRegister(user);\r\n    if (data.error)\r\n      return rejectWithValue([{ message: data.error, path: [data.field] }]);\r\n\r\n    return data;\r\n  }\r\n);\r\n\r\nconst registerSlice = createSlice({\r\n  name: \"register\",\r\n  initialState,\r\n  reducers: {\r\n    reset(state, action) {\r\n      return { ...initialState };\r\n    },\r\n\r\n    setUsername(state, action) {\r\n      state.username = action.payload;\r\n    },\r\n\r\n    setPassword(state, action) {\r\n      state.password = action.payload;\r\n    },\r\n  },\r\n  extraReducers: (builder) => {\r\n    builder\r\n      .addCase(postRegisterForm.pending, (state, action) => {\r\n        state.postRegisterRequestStatus = \"pending\";\r\n      })\r\n      .addCase(postRegisterForm.fulfilled, (state, action) => {\r\n        state.postRegisterRequestStatus = \"fulfilled\";\r\n        state.validationErrors = [];\r\n      })\r\n      .addCase(postRegisterForm.rejected, (state, action) => {\r\n        state.postRegisterRequestStatus = \"rejected\";\r\n        state.validationErrors = action.payload;\r\n      });\r\n  },\r\n});\r\n\r\nexport const { reset, setUsername, setPassword } = registerSlice.actions;\r\n\r\nexport default registerSlice.reducer;\r\n","export const sGetUsername = (state) => state.authentication.register.username;\r\n\r\nexport const sGetPassword = (state) => state.authentication.register.password;\r\n\r\nexport const sGetUser = (state) => ({\r\n  username: sGetUsername(state),\r\n  password: sGetPassword(state),\r\n});\r\n\r\nexport const sGetPostRegisterRequestStatus = (state) =>\r\n  state.authentication.register.postRegisterRequestStatus;\r\n\r\nexport const sGetValidationErrors = (state) =>\r\n  state.authentication.register.validationErrors;\r\n\r\nexport const sGetUsernameError = (state) =>\r\n  sGetValidationErrors(state).filter(\r\n    ({ path }) => path.length == 1 && path[0] == \"username\"\r\n  )[0]?.message;\r\n\r\nexport const sGetPasswordError = (state) =>\r\n  sGetValidationErrors(state).filter(\r\n    ({ path }) => path.length == 1 && path[0] == \"password\"\r\n  )[0]?.message;\r\n","import { useSelector, useDispatch } from \"react-redux\";\r\nimport { useEffect } from \"react\";\r\nimport { Card, Form } from \"react-bootstrap\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport PostRequestButton from \"../../../../components/PostRequestButton\";\r\nimport {\r\n  reset,\r\n  postRegisterForm,\r\n  setUsername,\r\n  setPassword,\r\n} from \"./services/registerSlice\";\r\nimport {\r\n  sGetUser,\r\n  sGetUsername,\r\n  sGetPassword,\r\n  sGetPostRegisterRequestStatus,\r\n  sGetUsernameError,\r\n  sGetPasswordError,\r\n} from \"./services/registerSlice/selectors.js\";\r\n\r\nexport default function () {\r\n  const dispatch = useDispatch();\r\n\r\n  const user = useSelector(sGetUser);\r\n  const username = useSelector(sGetUsername);\r\n  const password = useSelector(sGetPassword);\r\n  const postRegisterRequestStatus = useSelector(sGetPostRegisterRequestStatus);\r\n\r\n  const usernameError = useSelector(sGetUsernameError);\r\n  const passwordError = useSelector(sGetPasswordError);\r\n\r\n  useEffect(() => {\r\n    return function cleanup() {\r\n      dispatch(reset());\r\n    };\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"authentication-register\">\r\n      <Card className=\"m-4\">\r\n        <Card.Header>\r\n          <h4>Account Registration</h4>\r\n        </Card.Header>\r\n\r\n        <Card.Body>\r\n          <Form>\r\n            <Form.Group controlId=\"username\">\r\n              <Form.Label>Username</Form.Label>\r\n              <Form.Control\r\n                autoComplete=\"off\"\r\n                type=\"text\"\r\n                placeholder=\"Username\"\r\n                value={username}\r\n                isInvalid={usernameError !== undefined}\r\n                onChange={(event) => dispatch(setUsername(event.target.value))}\r\n              />\r\n              <Form.Control.Feedback type=\"invalid\">\r\n                {usernameError}\r\n              </Form.Control.Feedback>\r\n            </Form.Group>\r\n            <Form.Group controlId=\"password\">\r\n              <Form.Label>Password</Form.Label>\r\n              <Form.Control\r\n                autoComplete=\"off\"\r\n                type=\"password\"\r\n                placeholder=\"Password\"\r\n                value={password}\r\n                isInvalid={passwordError !== undefined}\r\n                onChange={(event) => dispatch(setPassword(event.target.value))}\r\n              />\r\n              <Form.Control.Feedback type=\"invalid\">\r\n                {passwordError}\r\n              </Form.Control.Feedback>\r\n            </Form.Group>\r\n          </Form>\r\n        </Card.Body>\r\n\r\n        <Card.Footer className=\"d-flex\">\r\n          {postRegisterRequestStatus === \"fulfilled\" ? (\r\n            <Redirect to=\"/authentication/login\" />\r\n          ) : (\r\n            <PostRequestButton\r\n              className=\"ml-auto\"\r\n              initiatePostRequest={() => dispatch(postRegisterForm(user))}\r\n              postRequestStatus={postRegisterRequestStatus}\r\n              idleText=\"Submit\"\r\n            />\r\n          )}\r\n        </Card.Footer>\r\n      </Card>\r\n    </div>\r\n  );\r\n}\r\n","export async function postLogout() {\r\n  try {\r\n    const requestOptions = {\r\n      method: \"POST\",\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n      body: JSON.stringify({}),\r\n    };\r\n\r\n    const response = await fetch(\"/api/authentication/logout\", requestOptions);\r\n    const data = await response.json();\r\n    return data;\r\n  } catch (error) {\r\n    return null;\r\n  }\r\n}\r\n","import { createSlice, createAsyncThunk } from \"@reduxjs/toolkit\";\r\nimport { postLogout } from \"../api.js\";\r\nimport { getAuthenticated } from \"../../../../../../services/authenticatedSlice\";\r\n\r\nconst initialState = {\r\n  postLogoutRequestStatus: \"idle\",\r\n};\r\n\r\nexport const postLogoutRequest = createAsyncThunk(\r\n  \"account/postLogoutRequest\",\r\n  async (_, { dispatch }) => {\r\n    const data = await postLogout();\r\n    await dispatch(getAuthenticated());\r\n    return data;\r\n  }\r\n);\r\n\r\nconst accountSlice = createSlice({\r\n  name: \"account\",\r\n  initialState,\r\n  reducers: {\r\n    reset(state, action) {\r\n      return { ...initialState };\r\n    },\r\n  },\r\n  extraReducers: (builder) => {\r\n    builder\r\n      .addCase(postLogoutRequest.pending, (state, action) => {\r\n        state.postLogoutRequestStatus = \"pending\";\r\n      })\r\n      .addCase(postLogoutRequest.fulfilled, (state, action) => {\r\n        state.postLogoutRequestStatus = \"fulfilled\";\r\n      })\r\n      .addCase(postLogoutRequest.rejected, (state, action) => {\r\n        state.postLogoutRequestStatus = \"rejected\";\r\n      });\r\n  },\r\n});\r\n\r\nexport const { reset } = accountSlice.actions;\r\n\r\nexport default accountSlice.reducer;\r\n","export const sGetPostLogoutRequestStatus = (state) =>\r\n  state.authentication.account.postLogoutRequestStatus;\r\n","import { useDispatch, useSelector } from \"react-redux\";\r\nimport { useEffect } from \"react\";\r\nimport { postLogoutRequest, reset } from \"./services/accountSlice\";\r\nimport { sGetPostLogoutRequestStatus } from \"./services/accountSlice/selectors.js\";\r\nimport { Card } from \"react-bootstrap\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport PostRequestButton from \"../../../../components/PostRequestButton\";\r\nimport { sGetAuthenticatedUser } from \"../../../../services/authenticatedSlice/selectors.js\";\r\n\r\nexport default function () {\r\n  const dispatch = useDispatch();\r\n\r\n  const postLogoutRequestStatus = useSelector(sGetPostLogoutRequestStatus);\r\n  const authenticatedUser = useSelector(sGetAuthenticatedUser);\r\n\r\n  useEffect(() => {\r\n    return function cleanup() {\r\n      dispatch(reset());\r\n    };\r\n  });\r\n\r\n  return (\r\n    <div className=\"authentication-account\">\r\n      <Card className=\"m-4\">\r\n        <Card.Header>\r\n          <h4>Account Management</h4>\r\n        </Card.Header>\r\n        <Card.Body>\r\n          <b>UserID:</b> {authenticatedUser._id}\r\n          <br />\r\n          <b>Username:</b> {authenticatedUser.username}\r\n        </Card.Body>\r\n        <Card.Footer className=\"d-flex\">\r\n          {postLogoutRequestStatus === \"fulfilled\" ? (\r\n            <Redirect exact to=\"/authentication/login\" />\r\n          ) : (\r\n            <PostRequestButton\r\n              className=\"ml-auto\"\r\n              initiatePostRequest={() => dispatch(postLogoutRequest())}\r\n              postRequestStatus={postLogoutRequestStatus}\r\n              idleText=\"Logout\"\r\n            />\r\n          )}\r\n        </Card.Footer>\r\n      </Card>\r\n    </div>\r\n  );\r\n}\r\n","import { Switch, Route } from \"react-router-dom\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { getAuthenticated } from \"../../services/authenticatedSlice\";\r\nimport {\r\n  sGetAuthenticatedRequestStatus,\r\n  sGetHasAuthenticatedBefore,\r\n} from \"../../services/authenticatedSlice/selectors\";\r\n\r\nimport PostRequestLoadingCard from \"../PostRequestLoadingCard\";\r\n\r\nimport Quiz from \"../../areas/Quiz\";\r\nimport Authentication from \"../../areas/Authentication\";\r\n\r\nexport default function () {\r\n  const dispatch = useDispatch();\r\n\r\n  const authenticatedRequestStatus = useSelector(\r\n    sGetAuthenticatedRequestStatus\r\n  );\r\n  const hasAuthenticatedBefore = useSelector(sGetHasAuthenticatedBefore);\r\n\r\n  if (!hasAuthenticatedBefore) {\r\n    dispatch(getAuthenticated());\r\n  }\r\n\r\n  return (\r\n    <div className=\"main\" style={{ backgroundColor: \"white\" }}>\r\n      {authenticatedRequestStatus == \"fulfilled\" ? (\r\n        <Switch>\r\n          <Route exact path=\"/\">\r\n            This is Home\r\n          </Route>\r\n\r\n          {Quiz()}\r\n          {Authentication()}\r\n\r\n          <Route exact path=\"*\">\r\n            Error 404\r\n          </Route>\r\n        </Switch>\r\n      ) : (\r\n        <PostRequestLoadingCard\r\n          className=\"m-4\"\r\n          initiatePostRequest={() => dispatch(getAuthenticated())}\r\n          postRequestStatus={authenticatedRequestStatus}\r\n          pendingHeaderText=\"Please wait...\"\r\n          rejectedHeaderText=\"Uh oh...\"\r\n          pendingBodyText=\"We are loading some important resources.\"\r\n          rejectedBodyText=\"We were unable to load some important resources.\"\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","import { Route } from \"react-router-dom\";\r\nimport ProtectedRoute from \"../../components/ProtectedRoute\";\r\nimport React from \"react\";\r\n\r\nimport Browse from \"./scenes/Browse\";\r\nimport Create from \"./scenes/Create\";\r\nimport Open from \"./scenes/Open\";\r\nimport Take from \"./scenes/Take\";\r\n\r\nexport default function () {\r\n  return [\r\n    <Route exact path=\"/quiz/browse\" key=\"/quiz/browse\">\r\n      <Browse />\r\n    </Route>,\r\n    <Route exact path=\"/quiz/create\" key=\"/quiz/create\">\r\n      <Create />\r\n    </Route>,\r\n    <Route exact path=\"/quiz/open/:id\" key=\"/quiz/open/:id\">\r\n      <Open />\r\n    </Route>,\r\n    <Route exact path=\"/quiz/take/:id\" key=\"/quiz/take/:id\">\r\n      <Take />\r\n    </Route>,\r\n  ];\r\n}\r\n","import { Route } from \"react-router-dom\";\r\nimport ProtectedRoute from \"../../components/ProtectedRoute\";\r\nimport React from \"react\";\r\n\r\nimport Login from \"./scenes/Login\";\r\nimport Register from \"./scenes/Register\";\r\nimport Account from \"./scenes/Account\";\r\n\r\nexport default function () {\r\n  return [\r\n    <Route exact path=\"/authentication/login\" key=\"/authentication/login\">\r\n      <Login />\r\n    </Route>,\r\n    <Route exact path=\"/authentication/register\" key=\"/authentication/register\">\r\n      <Register />\r\n    </Route>,\r\n    <ProtectedRoute\r\n      exact\r\n      path=\"/authentication/account\"\r\n      key=\"/authentication/account\"\r\n    >\r\n      <Account />\r\n    </ProtectedRoute>,\r\n  ];\r\n}\r\n","import { Container, Row, Col, Nav } from \"react-bootstrap\";\r\n\r\nexport default function () {\r\n  return (\r\n    <div className=\"footer\">\r\n      <Container fluid className=\"bg-dark text-light py-4\">\r\n        <Row>\r\n          <Col md={4}>\r\n            <Nav className=\"flex-column align-items-center\">\r\n              <h4>Quizzer</h4>\r\n              <Nav.Link>Contact</Nav.Link>\r\n              <Nav.Link>About</Nav.Link>\r\n              <Nav.Link>Team</Nav.Link>\r\n              <Nav.Link>Join</Nav.Link>\r\n            </Nav>\r\n          </Col>\r\n          <Col md={4}>\r\n            <Nav className=\"flex-column align-items-center\">\r\n              <h4>Help</h4>\r\n              <Nav.Link>FAQs</Nav.Link>\r\n              <Nav.Link>Docs</Nav.Link>\r\n              <Nav.Link>Tutorial</Nav.Link>\r\n            </Nav>\r\n          </Col>\r\n          <Col md={4}>\r\n            <Nav className=\"flex-column align-items-center\">\r\n              <h4>Contribute</h4>\r\n              <Nav.Link>Donate</Nav.Link>\r\n              <Nav.Link>Share</Nav.Link>\r\n            </Nav>\r\n          </Col>\r\n        </Row>\r\n        <hr style={{ backgroundColor: \"white\" }} />\r\n        <small>\r\n          <Row>\r\n            <Col md={8}>\r\n              Lorem ipsum dolor sit amet, consectetur adipiscing elit. Vivamus\r\n              pellentesque euismod viverra. Quisque porta felis id mauris\r\n              molestie\r\n            </Col>\r\n            <Col md={4}>Copyright Quizzer</Col>\r\n          </Row>\r\n        </small>\r\n      </Container>\r\n    </div>\r\n  );\r\n}\r\n","import Header from \"./components/Header\";\nimport Main from \"./components/Main\";\nimport Footer from \"./components/Footer\";\n\nimport \"./styles.css\";\n\nexport default function App() {\n  return (\n    <div className=\"App\">\n      <Header />\n      <Main />\n      <Footer />\n    </div>\n  );\n}\n","import { combineReducers } from \"@reduxjs/toolkit\";\r\n\r\nimport browseReducer from \"../scenes/Browse/services/browseSlice\";\r\nimport createReducer from \"../scenes/Create/services/createSlice\";\r\nimport openReducer from \"../scenes/Open/services/openSlice\";\r\nimport takeReducer from \"../scenes/Take/services/takeSlice\";\r\n\r\nconst quizReducer = combineReducers({\r\n  browse: browseReducer,\r\n  create: createReducer,\r\n  open: openReducer,\r\n  take: takeReducer,\r\n});\r\n\r\nexport default quizReducer;\r\n","import { combineReducers } from \"@reduxjs/toolkit\";\r\n\r\nimport loginReducer from \"../scenes/Login/services/loginSlice\";\r\nimport registerReducer from \"../scenes/Register/services/registerSlice\";\r\nimport accountReducer from \"../scenes/Account/services/accountSlice\";\r\n\r\nconst authenticationReducer = combineReducers({\r\n  login: loginReducer,\r\n  register: registerReducer,\r\n  account: accountReducer,\r\n});\r\n\r\nexport default authenticationReducer;\r\n","import { configureStore } from \"@reduxjs/toolkit\";\r\n\r\nimport quizReducer from \"../../areas/Quiz/services/quizReducer.js\";\r\nimport authenticationReducer from \"../../areas/Authentication/services/authenticationReducer.js\";\r\nimport authenticatedReducer from \"../authenticatedSlice\";\r\n\r\nconst store = configureStore({\r\n  reducer: {\r\n    quiz: quizReducer,\r\n    authentication: authenticationReducer,\r\n    authenticated: authenticatedReducer,\r\n  },\r\n});\r\n\r\nexport default store;\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport { BrowserRouter } from \"react-router-dom\";\nimport { Provider } from \"react-redux\";\nimport store from \"./services/redux/store.js\";\n\nimport \"bootstrap/dist/css/bootstrap.min.css\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <BrowserRouter>\n        <App />\n      </BrowserRouter>\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}